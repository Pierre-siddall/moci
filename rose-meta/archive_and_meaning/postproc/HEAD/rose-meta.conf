[namelist:archiving]
ns=Atmosphere

[namelist:archiving=arch_dump_freq]
compulsory=true
description=Archiving frequency of atmosphere restart dumps
help=The archived dump will be at the end of month,season,
    =or year (i.e. the dump time
    =will be for 0 hours on the first day of the next period)
ns=Atmosphere
sort-key=AD1
trigger=namelist:archiving=arch_dump_offset: Monthly;
       =namelist:archiving=arch_year_month: Yearly
values=Monthly,Seasonal,Yearly

[namelist:archiving=arch_dump_offset]
compulsory=true
description=Offset for the archiving of the first dump in terms of months
help=For monthly dumping the archiving of the first restart dump can be offset by a
    =specific number of months into the model run. Set to 0 for no offset
ns=Atmosphere
sort-key=AD2
type=integer

[namelist:archiving=arch_year_month]
compulsory=true
description=Model month when yearly archiving is performed
help=For the yearly archiving of dumps,
    =arch_year_month specifies the month
    =when the yearly dump is to be archived.
ns=Atmosphere
sort-key=AD3
values=January,February,March,April,May,June,July,August,September,
      =October,November,December

[namelist:archiving=archive_dumps]
compulsory=true
description=Archive UM restart dumps
help=UM restart dumps are to be archived,
    =there are further selections for monthly,seasonally,
    =or yearly dump archiving
ns=Atmosphere
sort-key=AD0
trigger=namelist:archiving=arch_dump_freq: true;
type=boolean

[namelist:archiving=archive_pp]
compulsory=true
description=Archive PP files
help=Will archive all PP files,
    =including instantaneous fields files,
    =and means files
    =that have been calculated by the UM
ns=Atmosphere
sort-key=AP1
type=boolean

[namelist:archiving=archive_switch]
compulsory=true
description=Turn on archiving for this model run
help=Are files to be archived this model run. The script can archive restart dumps,
    =instantaneous pp files,and climate meaned pp files.
ns=Atmosphere
sort-key=A0
trigger=namelist:archiving=archive_dumps: true;
       =namelist:archiving=archive_pp: true;
type=boolean

[namelist:archiving=convert_pp]
compulsory=true
description=Convert UM fields files to PP format prior to archive
help=UM utility um-ff2pp may be used to pre-process fields files
    =prior to issuing the command to archive the file.
ns=Atmosphere
sort-key=AP2
type=boolean

[namelist:atmospp]
ns=Atmosphere

[namelist:atmospp=debug]
compulsory=false
description=Run the atmosphere archiving app in test mode
help=Run the file selection and verification sections of the test app,
    =but the files
    =will not actually be archived. Rather a list of files that would be archived
    =is written to standard out,
    =and to the log file
ns=Atmosphere
sort-key=z
type=boolean

[namelist:atmospp=pp_run]
compulsory=false
description=Run atmosphere archiving and house keeping tasks
help=
ns=Atmosphere
sort-key=0
trigger=namelist:archiving=archive_switch: true;
       =namelist:delete_sc=del_switch: true;
       =namelist:atmospp=share_directory: true;
       =namelist:atmospp=um_utils: true;
       =namelist:atmospp=debug: true;
type=boolean

[namelist:atmospp=share_directory]
compulsory=true
description=History directory
help=A shared directory accessible to all cycles -
    =containing all restart dumps and pp files
ns=Atmosphere
sort-key=1

[namelist:atmospp=um_utils]
compulsory=true
description=Path to UM utilities
help=UM utilities currently required include um-pumf and um-ff2pp
ns=Atmosphere
sort-key=2

[namelist:cicepostproc]
ns=CICE

[namelist:cicepostproc=archive_means]
compulsory=true
description=Archive means files
help=
ns=CICE
sort-key=meansA1
type=boolean

[namelist:cicepostproc=archive_restarts]
compulsory=true
description=Archive restart files
help=
ns=CICE
sort-key=arch1
trigger=namelist:cicepostproc=archive_timestamps: true;
       =namelist:cicepostproc=buffer_archive: true;
type=boolean

[namelist:cicepostproc=archive_timestamps]
compulsory=true
description=Archive selected timestamped restart files
help=Only archive restart files matching given month-day timestamps.
    =Leave blank to archive all files.
    =Format: 'MM-DD'
length=12
ns=CICE/Archiving
sort-key=1b

[namelist:cicepostproc=buffer_archive]
compulsory=true
description=Keep the latest restart files from archiving
help=Number of files to leave after archiving is complete.
ns=CICE/Archiving
range=0:
sort-key=2
type=integer

[namelist:cicepostproc=chunking_arguments]
compulsory=true
description=Chunking arguments to be used when compressing netcdf files.
help=See the man page on nccopy for more help (-c option)
length=:
ns=CICE/Meaning
pattern=^(\w+/\d+)
sort-key=compress3

[namelist:cicepostproc=compress_means]
compulsory=true
description=Compress means files prior to archiving
help=Select the pre-processing utility required for compression
ns=CICE/Meaning
sort-key=compress1
trigger=namelist:cicepostproc=compression_level: nccopy
value-titles=nccopy
values=nccopy

[namelist:cicepostproc=compression_level]
compulsory=true
description=Level of compression of netcdf files.
help=An integer value between 0 and 9 where 0=no compression, 9=maximum compression.
ns=CICE/Meaning
range=0:9
sort-key=compress2
trigger=namelist:cicepostproc=chunking_arguments: this > 0;
type=integer

[namelist:cicepostproc=correct_time_bounds_variables]
compulsory=true
description=Correct the time bounds variables after meaning files
help=Creating mean files produces an incorrect time bounds
    =This option will correct the time bounds values by taking
    =the earliest and latest dates from the input files and taking
    =units into account
ns=CICE/Meaning
sort-key=fixtime2
type=boolean

[namelist:cicepostproc=correct_time_variables]
compulsory=true
description=Correct the time variable after meaning files
help=Creating mean files can produce an incorrect time stamp
    =(for example if units are changed between input files).
    =This option will correct the time values taking the units
    =into account
ns=CICE/Meaning
sort-key=fixtime1
type=boolean

[namelist:cicepostproc=create_means]
compulsory=true
description=Create means files
help=
ns=CICE
sort-key=mean1
trigger=namelist:cicepostproc=means_cmd: true;
type=boolean

[namelist:cicepostproc=means_cmd]
compulsory=true
description=Create Means command
help=Command to be executed for creating month,
    =seasonal and annual means
ns=CICE/Meaning
sort-key=1

[namelist:cicepostproc=means_directory]
compulsory=true
description=Directory containing means files
help=Generally set to the current working directory
ns=CICE
sort-key=3

[namelist:cicepostproc=pp_run]
compulsory=false
description=Run CICE post processing tasks
help=
ns=CICE
sort-key=0
trigger=namelist:cicepostproc=restart_directory: true;
       =namelist:cicepostproc=means_directory: true;
       =namelist:cicepostproc=archive_restarts: true;
       =namelist:cicepostproc=create_means: true;
       =namelist:cicepostproc=archive_means: true;
       =namelist:cicepostproc=compression_level: true;
       =namelist:cicepostproc=chunking_arguments: true;
       =namelist:cicepostproc=correct_time_variables: true;
       =namelist:cicepostproc=correct_time_bounds_variables: true;
       =namelist:cicepostproc=time_vars: true;
type=boolean

[namelist:cicepostproc=restart_directory]
compulsory=true
description=Directory containing restart files
help=A shared directory accessible to all cycles
ns=CICE
sort-key=2

[namelist:cicepostproc=time_vars]
compulsory=true
description=Names of time variable(s) in CICE output files
help=Creating mean files can produce an incorrect time stamp
    =(for example if units are changed between input files).
    =These variables will be corrected taking into account
    =the units in the input files
length=10
ns=CICE/Meaning
sort-key=fixtime3

[namelist:delete_sc]
ns=Atmosphere

[namelist:delete_sc=del_switch]
compulsory=true
description=Turn on deletion of superceded files for this model run
help=Are superseded files to be deleted this model run. Restart dumps,
    =instantaneous pp files,
    =and climate meaned pp files can be deleted.
ns=Atmosphere
sort-key=D0
trigger=namelist:delete_sc=gpdel: true;
       =namelist:delete_sc=gcmdel: true;
type=boolean

[namelist:delete_sc=gcmdel]
compulsory=true
description=Delete superseded climate mean pp files
ns=Atmosphere
sort-key=D2
type=boolean

[namelist:delete_sc=gpdel]
compulsory=true
description=Delete superseded instantaneous pp files
ns=Atmosphere
sort-key=D1
type=boolean

[namelist:moose_arch]
ns=Post Processing - common settings/Moose Archiving

[namelist:moose_arch=archive_set]
compulsory=false
description=Moose Archiving Set
help=Usually the suite name: mi-**???
ns=Post Processing - common settings/Moose Archiving
sort-key=ArchMoose2

[namelist:moose_arch=dataclass]
compulsory=false
description=Moose data class
help=Leave blank if default (crum) is required
ns=Post Processing - common settings/Moose Archiving
sort-key=ArchMoose3

[namelist:moose_arch=ensembleid]
compulsory=false
description=Ensemble ID for moose:ens data class
help=
ns=Post Processing - common settings/Moose Archiving
sort-key=ArchMoose3b

[namelist:moose_arch=moopath]
compulsory=false
description=Directory path to Moose `moo` command
help=Leave blank if `moo` is available in the path
ns=Post Processing - common settings/Moose Archiving
sort-key=ArchMoose1

[namelist:moose_arch=mooproject]
compulsory=false
description=Project name required for creating Moose set
help=Leave blank if no project is required
ns=Post Processing - common settings/Moose Archiving
sort-key=ArchMoose4

[namelist:nemopostproc]
ns=NEMO

[namelist:nemopostproc=archive_means]
compulsory=true
description=Archive means files
help=
ns=NEMO
sort-key=meansA1
type=boolean

[namelist:nemopostproc=archive_restarts]
compulsory=true
description=Archive restart files
help=
ns=NEMO
sort-key=arch1
trigger=namelist:nemopostproc=rebuild_timestamps: true;
       =namelist:nemopostproc=archive_timestamps: true;
       =namelist:nemopostproc=buffer_archive: true;
       =namelist:nemopostproc=buffer_rebuild_rst: true;
       =namelist:nemopostproc=exec_rebuild_icebergs: true;
type=boolean

[namelist:nemopostproc=archive_timestamps]
compulsory=true
description=Archive selected timestamped restart files
help=Only archive restart files matching given month-day timestamps.
    =Leave blank to archive all files.
    =Format: 'MM-DD'
length=12
ns=NEMO/Archiving
sort-key=2b

[namelist:nemopostproc=buffer_archive]
compulsory=true
description=Keep the latest restart files from archiving
help=Number of files to leave after archiving is complete.
ns=NEMO/Archiving
range=0:
sort-key=2
type=integer

[namelist:nemopostproc=buffer_rebuild_mean]
compulsory=true
description=Keep the latest means files from being rebuild
help=Number of unprocessed means files to leave after rebuilding is complete.
ns=NEMO/Meaning
range=0:
sort-key=2
type=integer

[namelist:nemopostproc=buffer_rebuild_rst]
compulsory=true
description=Keep the latest restart files from being rebuild
help=Number of unprocessed restart files to leave after rebuilding is complete.
ns=NEMO/Archiving
range=0:
sort-key=1a
type=integer

[namelist:nemopostproc=chunking_arguments]
compulsory=true
description=Chunking arguments to be used when compressing netcdf files
help=See the man page on nccopy for more help (-c option)
length=:
ns=NEMO/Meaning
pattern=(\w+/\d+ )
sort-key=compress3

[namelist:nemopostproc=compress_means]
compulsory=true
description=Compress means files prior to archiving
help=Select the pre-processing utility required for compression
ns=NEMO/Meaning
sort-key=compress1
trigger=namelist:nemopostproc=compression_level: nccopy
value-titles=nccopy
values=nccopy

[namelist:nemopostproc=compression_level]
compulsory=true
description=Level of compression of netcdf files
help=An integer value between 0 and 9 where 0=no compression, 9=maximum compression.
ns=NEMO/Meaning
range=0:9
sort-key=compress2
trigger=namelist:nemopostproc=chunking_arguments: this > 0;
type=integer

[namelist:nemopostproc=correct_time_bounds_variables]
compulsory=true
description=Correct the time bounds variables after meaning files
help=Creating mean files produces an incorrect time bounds
    =This option will correct the time bounds values by taking
    =the earliest and latest dates from the input files and taking
    =units into account
ns=NEMO/Meaning
sort-key=fixtime2
type=boolean

[namelist:nemopostproc=correct_time_variables]
compulsory=true
description=Correct the time variable after meaning files
help=Creating mean files can produce an incorrect time stamp
    =(for example if units are changed between input files).
    =This option will correct the time values taking the units
    =into account
ns=NEMO/Meaning
sort-key=fixtime3
type=boolean

[namelist:nemopostproc=create_means]
compulsory=true
description=Create means files
help=
ns=NEMO
sort-key=mean1
trigger=namelist:nemopostproc=means_cmd: true;
       =namelist:nemopostproc=buffer_rebuild_mean: true;
       =namelist:nemopostproc=ncatted_cmd: true;
type=boolean

[namelist:nemopostproc=exec_rebuild]
compulsory=true
description=NEMO rebuild Executable
help=Command to be executed for rebuilding multi-processor restart
    =and means files
ns=NEMO
sort-key=4

[namelist:nemopostproc=exec_rebuild_icebergs]
compulsory=false
description=NEMO icebergs rebuild script
help=Script to be executed for completing the rebuild process of iceberg
    =restart files.
    =Default: $CYLC_SUITE_SHARE_DIR/fcm_make_pp/build/bin/icb_combrest
ns=NEMO/Archiving
sort-key=0

[namelist:nemopostproc=means_cmd]
compulsory=true
description=Create Means command
help=Command to be executed for creating month,
    =seasonal and annual means
ns=NEMO/Meaning
sort-key=1

[namelist:nemopostproc=means_directory]
compulsory=true
description=Directory containing means files
help=Generally set to the current working directory
ns=NEMO
sort-key=3

[namelist:nemopostproc=ncatted_cmd]
compulsory=true
description=Path to ncatted command
help=diaptr field files produced by XIOS incorrectly have global rather
    =than zonal attributes.  This app corrects the error using ncatted.
ns=NEMO/Meaning
sort-key=zonal1

[namelist:nemopostproc=pp_run]
compulsory=false
description=Run NEMO post processing tasks
help=
ns=NEMO
sort-key=0
trigger=namelist:nemopostproc=restart_directory: true;
       =namelist:nemopostproc=means_directory: true;
       =namelist:nemopostproc=archive_restarts: true;
       =namelist:nemopostproc=create_means: true;
       =namelist:nemopostproc=archive_means: true;
       =namelist:nemopostproc=exec_rebuild: true;
       =namelist:nemopostproc=compression_level: true;
       =namelist:nemopostproc=chunking_arguments: true;
       =namelist:nemopostproc=correct_time_variables: true;
       =namelist:nemopostproc=correct_time_bounds_variables: true;
       =namelist:nemopostproc=time_vars: true;
type=boolean

[namelist:nemopostproc=rebuild_timestamps]
compulsory=true
description=Rebuild selected timestamped restart files
help=Only rebuild restart files matching given month-day timestamps.
    =Leave blank to rebuild all files.
    =Format: 'MM-DD'
length=12
ns=NEMO/Archiving
sort-key=1b

[namelist:nemopostproc=restart_directory]
compulsory=true
description=Directory containing restart files
help=A shared directory accessible to all cycles
ns=NEMO
sort-key=2

[namelist:nemopostproc=time_vars]
compulsory=true
description=Names of time variable(s) in NEMO output files
help=Creating mean files can produce an incorrect time stamp
    =(for example if units are changed between input files).
    =These variables will be corrected taking into account
    =the units in the input files
length=10
ns=NEMO/Meaning
sort-key=fixtime3

[namelist:suitegen]
ns=Post Processing - common settings

[namelist:suitegen=archive_command]
compulsory=true
description=Archiving System
help=
ns=Post Processing - common settings
sort-key=Arch1
trigger=namelist:moose_arch=archive_set: Moose;
       =namelist:moose_arch=ensembleid: Moose;
       =namelist:moose_arch=dataclass: Moose;
       =namelist:moose_arch=moopath: Moose;
       =namelist:moose_arch=mooproject: Moose;
values=Moose,

[namelist:suitegen=cycleperiod]
compulsory=true
description=Suite Cycling Period
help=years,months,days,hours,minutes,secs
length=6
ns=Post Processing - common settings
sort-key=2
type=integer

[namelist:suitegen=nccopy_path]
compulsory=true
description=Path to the nccopy utility
help=Leave blank if the utility is available on the standard path
    =or not required by any component model
ns=Post Processing - common settings
sort-key=utils1

[namelist:suitegen=ncdump_path]
compulsory=true
description=Path to the ncdump utility
help=Leave blank if the utility is available on the standard path
    =or not required by any component model
ns=Post Processing - common settings
sort-key=utils2

[namelist:suitegen=prefix]
compulsory=true
description=Common prefix to output filename format
help=Default: 'atmos'
ns=Post Processing - common settings
sort-key=0

[namelist:suitegen=tasks_per_cycle]
compulsory=false
description=UM tasks per cycle
help=Generally only required for versions of Cylc not supporting the 360day calendar
ns=Post Processing - common settings
sort-key=3
type=integer

[namelist:suitegen=umtask_name]
compulsory=true
description=UM task name
help=Name of the UM task generating the input data for post processing
ns=Post Processing - common settings
sort-key=1

[ns=Atmopshere]
description=Archiving options for the UM Atmosphere
sort-key=1

[ns=CICE]
compulsory=true
description=Meaning and archiving options for the CICE model

[ns=NEMO]
compulsory=true
description=Meaning and archiving options for the NEMO model

[ns=Post Processing - common settings]
description=Post Processing app options common to all component models
sort-key=0
