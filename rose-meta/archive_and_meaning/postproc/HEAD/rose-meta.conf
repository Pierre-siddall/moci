[env=ARCHIVE_FINAL]
compulsory=false
description=Archive files required for subsequent starting cycles
help=Set to `true` to archive all files (of a type normally archived) which would
    =normally be left on disk as they are required by subsequent cycles of either
    =the model app or the postprocessing app.
    =
    =Rebuild and archive buffers will be set to zero.
    =The latest restart dump for each model will be archived regardless of the
    =specified archiving frequency.
    =
    =Potentially incomplete fieldsfiles and the final restart files will NOT be deleted.
    =
    =The final cycle point task will automatically trigger this functionality
    =unless overridden by a setting of ARCHIVE_FINAL=false
ns=env
type=boolean

[env=CYCLEPERIOD]
compulsory=true
description=Suite Cycling Period
help=P(iY)(iM)(iD)(T(iH)(iM)(iS))
pattern=^(P?(\d+[YMD])*(T(\d+[HMS])+)?|((\d+,){2}(?:,(\d+)+)))$
sort-key=2

[env=VERIFY_ARCHIVE]
compulsory=false
description=Run the archive_integrity app as part of the main postproc app.
help=Set to `true` to invoke the archive_integrity gap-checker at the completion
    =of the main postproc app.
    =
    =The archive_integrity app may also be run as a standalone task by either:
    =  * Setting the environment variable ROSE_APP_COMMAND_KEY=verify
    =  * Using the command line script `rose [app|task]-run --command-key=verify`
ns=env
type=boolean

[namelist:archer_arch]
ns=Post Processing - common settings/Archer Archiving

[namelist:archer_arch=archive_name]
compulsory=true
description=Archiving Set
help=Usually the suite name: u-**???
ns=Post Processing - common settings/Archer Archiving
sort-key=ArchArcher2

[namelist:archer_arch=archive_root_path]
compulsory=true
description=Name of directory to archive to
ns=Post Processing - common settings/Archer Archiving
sort-key=ArchArcher1

[namelist:archiving]
ns=Atmosphere/Archiving

[namelist:archiving=arch_dump_freq]
compulsory=true
description=Archiving frequency of atmosphere restart dumps
help=The archived dump will be at the end of month,season,
    =or year (i.e. the dump time
    =will be for 0 hours on the first day of the next period)
ns=Atmosphere/Archiving
sort-key=AD1
trigger=namelist:archiving=arch_year_month: Yearly;
       =namelist:archiving=arch_timestamps: Timestamps;
values=Monthly,Seasonal,Yearly,Timestamps

[namelist:archiving=arch_dump_offset]
compulsory=true
description=Offset for the archiving of the first dump in terms of months
help=Archiving of restart dumps may be delayed by a specified number of months
    =relative to the basis time of the model run.
    =Set to 0 for no offset
ns=Atmosphere/Archiving
sort-key=AD3
type=integer

[namelist:archiving=arch_timestamps]
compulsory=true
description=Month-Day[_Hour] timestamp(s) for archiving of dumps.
help=Time stamp(s) of dumps to be archived - all years will be considered.
    =Time stamps should be of the format: "MM-DD[_HH]"
length=12
ns=Atmosphere/Archiving
pattern=^(\d{1,2}-\d{1,2}(_\d{1,2})?)?(?:,(\d{1,2}-\d{1,2}(_\d{1,2})?))*$
sort-key=AD4

[namelist:archiving=arch_year_month]
compulsory=true
description=Model month when yearly archiving is performed
help=For the yearly archiving of dumps,
    =arch_year_month specifies the month
    =when the yearly dump is to be archived.
ns=Atmosphere/Archiving
sort-key=AD2
values=January,February,March,April,May,June,July,August,September,
      =October,November,December

[namelist:archiving=archive_dumps]
compulsory=true
description=Archive UM restart dumps
help=UM restart dumps are to be archived,
    =there are further selections for monthly,seasonally,
    =or yearly dump archiving
ns=Atmosphere/Archiving
sort-key=AD0
trigger=namelist:archiving=arch_dump_freq: true;
       =namelist:archiving=arch_dump_offset: true;
type=boolean

[namelist:archiving=archive_ncf]
compulsory=true
description=Archive NetCDF files with fields extracted from UM output
help=Will archive all NetCDF files created by the PostProc app
    =by extracting fields from UM output.
ns=Atmosphere/Archiving
sort-key=AP2
type=boolean

[namelist:archiving=archive_pp]
compulsory=true
description=Archive PP files
help=Will archive all PP files,
    =including instantaneous fields files,
    =and means files
    =that have been calculated by the UM
ns=Atmosphere/Archiving
sort-key=AP1
type=boolean

[namelist:archiving=archive_switch]
compulsory=true
description=Turn on archiving for this model run
help=Are files to be archived this model run. The script can archive restart dumps,
    =instantaneous pp files,and climate meaned pp files.
ns=Atmosphere/Archiving
sort-key=A0
trigger=namelist:archiving=archive_dumps: true;
       =namelist:archiving=archive_pp: true;
       =namelist:archiving=archive_ncf: true;
type=boolean

[namelist:atmospp]
ns=Atmosphere

[namelist:atmospp=archive_as_fieldsfiles]
compulsory=true
description=Streams to archive as fieldsfile without converting to pp format
help=Filenames matching the format <RUNID>a.p<STREAM><DATESTAMP> will be archived
    =without converting to pp if the <STREAM> character(s) appears in the list.
    =
    = <STREAM> may be 1 or 2 characters.  Where a single character is used,
    =the first will be assumed to be "p and/or m".
    =Ranges are acceptable -
    =    e.g. 'a-c' (matches any or all  <STREAM>s from: pa,pb,pc,ma,mb,mc),
    ='p1-5' (matches any or all <STREAM>s from: p1,p2,p3,p4,p5)
length=:
ns=Atmosphere/File transformation
pattern=^([pm]?[a-z1-9](\-[a-z1-9])?)?(?:,([pm]?[a-z1-9]?(\-[a-z1-9])?))*$
sort-key=CPP3

[namelist:atmospp=convert_pp]
compulsory=true
description=Convert UM fields files to PP format prior to archive
help=UM utility um-convpp is used to convert 64bit field files to
    =32bit pp files for archiving in one step. It avoids the problem with
    =file size bigger than 12Gb.
    =
    =For utilities at UM versions older than 10.4 then um-ff2pp will be
    =used, which calls the 32bit version of the um-convpp executable.
    =
    =Default behaviour (convert_pp=False) is to allow the archiving system
    =to perform the conversion.
ns=Atmosphere/File transformation
sort-key=CPP1
trigger=namelist:atmospp=convpp_all_streams: true;
       =namelist:atmospp=archive_as_fieldsfiles: true;
type=boolean

[namelist:atmospp=convpp_all_streams]
compulsory=true
description=Convert all available streams to pp format.
ns=Atmosphere/File transformation
sort-key=CPP2
trigger=namelist:atmospp=archive_as_fieldsfiles: false;
type=boolean

[namelist:atmospp=create_annual_mean]
compulsory=true
description=Annual mean stream ID
help=Create an annual mean.
    =
    =The filename will match the UM climate meaning convention:
    =   RUNIDa.pyYYYYMMDD
ns=Atmosphere/File transformation
sort-key=create2c
type=boolean

[namelist:atmospp=create_decadal_mean]
compulsory=true
description=Decadal mean stream ID
help=Create a decadal mean.
    =
    =The filename will match the UM climate meaning convention:
    =   RUNIDa.pxYYYYMMDD
ns=Atmosphere/File transformation
sort-key=create2d
type=boolean

[namelist:atmospp=create_means]
compulsory=true
description=Create standard means files
help=Create standard (1m, 1s, 1y, 1x)  means based on the mean reference date
ns=Atmosphere/File transformation
sort-key=create1
trigger=namelist:atmospp=create_monthly_mean: true;
       =namelist:atmospp=create_seasonal_mean: true;
       =namelist:atmospp=create_annual_mean: true;
       =namelist:atmospp=create_decadal_mean: true;
       =namelist:atmospp=meanbase_stream: true;
type=boolean

[namelist:atmospp=create_monthly_mean]
compulsory=true
description=Monthly mean stream ID
help=Create a monthly mean.
    =
    =The filename will match the UM climate meaning convention:
    =   RUNIDa.pmYYYYMMDD
    =
    =Please leave as "False" if STASH-produced monthly means are to be archived as a.pm
ns=Atmosphere/File transformation
sort-key=create2a
type=boolean

[namelist:atmospp=create_seasonal_mean]
compulsory=true
description=Seasonal mean stream ID
help=Create a seasonal mean.
    =
    =The filename will match the UM climate meaning convention:
    =   RUNIDa.psYYYY<season>
ns=Atmosphere/File transformation
sort-key=create2b
type=boolean

[namelist:atmospp=cutout_coords]
compulsory=true
description=Gridbox points : zx,  zy,  nx,  ny
           =Coordinates : SW_lon, SW_lat, NE_lon, NE_lat
length=4
ns=Atmosphere/File transformation
sort-key=CPP4c
type=real

[namelist:atmospp=cutout_coords_type]
compulsory=true
description=Co-ordinate system to use when invoking mule-cutout
ns=Atmosphere/File transformation
sort-key=CPP4b
value-titles=Model Coordinates, Regular Coordinates, Grid Box Indices
values=coords --native-grid,coords,indices

[namelist:atmospp=debug]
compulsory=false
description=Run the atmosphere archiving app in test mode
help=Allow errors produced in external commands to be ignored until the
    =completion of the task for debug purposes.
    =
    =Files will not actually be archived.
    =Rather a list of files that would be archived is written to
    =standard out and to the log file.
ns=Atmosphere
sort-key=z
type=boolean

[namelist:atmospp=fields_to_netcdf]
compulsory=true
description=List of fields, paired with their descriptors,
           =to be extracted to netCDF format files
help=A list of Iris field names or STASH codes (5 digits) paired with a short descriptor.
    =
    =Expected values should take the form <fieldname>, <descriptor>
    =Example: air_temperature,AIR-T,00024,SURFACE-T
    =
    =The <fieldname> should match either the 5 digit UM STASHcode or
    =the return value from the name() method of an Iris cube.
    =
    =The <descriptor> will be appended to the output filename.
    =The only non-alphanumeric character permitted in the descriptor is the hyphen (-).
length=:
ns=Atmosphere/File transformation
pattern=^([a-zA-Z0-9_\-]+,[a-zA-Z0-9\-]+)?(?:,([a-zA-Z0-9_\-]+,[a-zA-Z0-9\-]+))*$
sort-key=NC2

[namelist:atmospp=meanbase_period]
compulsory=true
description=Reinitialisation period of the base component
help=Reinitialisation period of the base component stream for
    =the first mean to be created.
    =
    =e.g. 10d, 1m etc
ns=Atmosphere/File transformation
pattern=^\d+[hdmsy]$
sort-key=create3b

[namelist:atmospp=meanbase_stream]
compulsory=true
description=Base component stream for the first mean
help=<STREAMID> for the base component of the first mean to be created
    =
    =Where m,s,y or x are used, the reinitialisation period will be
    =assumed to be 1m, 1s, 1y or 1x respectively.
    =
    =Optional prefix to single character <STREAMID>:
    =     'p' or 'm': Where not given 'p' will be used.
ns=Atmosphere/File transformation
pattern=^([pm]?[a-z1-9])$
sort-key=create3a
trigger=namelist:atmospp=meanbase_period: this != 'm' and this != 'pm' and
       = this != 's' and this != 'ps' and this != 'y' and this != 'py' and
       = this != 'x' and this != 'px';

[namelist:atmospp=mule_utils]
compulsory=false
description=Path to Mule standard utilities
help=Mule utilities currently used include mule-cutout.
    =Default value: $UMDIR/mule_utils
ns=Atmosphere
sort-key=2a

[namelist:atmospp=netcdf_compression]
compulsory=true
description=Level of netCDF compression required
ns=Atmosphere/File transformation
range=0:
sort-key=NC4
type=integer

[namelist:atmospp=netcdf_filetype]
compulsory=true
description=netCDF output file type
help=
ns=Atmosphere/File transformation
sort-key=NC3
trigger=namelist:atmospp=netcdf_compression: NETCDF4
values=NETCDF4,NETCDF3_CLASSIC

[namelist:atmospp=ozone_fields]
compulsory=true
description=Field(s) to extract for ozone redistribution
help=5-digit STASH code(s) required.
    ="00253" (density) and "30453" (tropopause height) are commonly used
length=:
ns=Atmosphere/File transformation
pattern=^(\d{5})?(?:,\d{5})*$
sort-key=Ozone4

[namelist:atmospp=ozone_output_stream]
compulsory=true
description=Output stream for extracted ozone redistibution fields
           =(if required)
help=Leave BLANK to simply preserve the entire source stream
    =
    =<STREAMID> for the ozone redistibution fieldsfile to be created
    =
    =Optional prefix to single character <STREAMID>:
    =     'p' or 'm': Where not given 'p' will be used.
ns=Atmosphere/File transformation
pattern=^([pm]?[a-z1-9])?$
sort-key=Ozone3
trigger=namelist:atmospp=ozone_fields: this != ''

[namelist:atmospp=ozone_source_stream]
compulsory=true
description=Source stream for ozone redistribution fields
help=<STREAMID> for the source fieldsfile for ozone redistibution fields
    =
    =Optional prefix to single character <STREAMID>:
    =     'p' or 'm': Where not given 'p' will be used.
ns=Atmosphere/File transformation
pattern=^([pm]?[a-z1-9])$
sort-key=Ozone2

[namelist:atmospp=pp_run]
compulsory=false
description=Run atmosphere archiving and house keeping tasks
help=
ns=Atmosphere
sort-key=0
trigger=namelist:archiving=archive_switch: true;
       =namelist:delete_sc=del_switch: true;
       =namelist:atmospp=share_directory: true;
       =namelist:atmospp=convert_pp: true;
       =namelist:atmospp=process_all_streams: true;
       =namelist:atmospp=streams_to_netcdf: true;
       =namelist:atmospp=streams_to_cutout: true;
       =namelist:atmospp=um_utils: true;
       =namelist:atmospp=mule_utils: true;
       =namelist:atmospp=debug: true;
type=boolean

[namelist:atmospp=preserve_ozone]
compulsory=true
description=Preserve UM output for annual redistribution of ozone
help=Preserve a rolling two years worth of data on disk for
    = redistribution of ozone
ns=Atmosphere/File transformation
sort-key=Ozone1
trigger=namelist:atmospp=ozone_source_stream: true;
       =namelist:atmospp=ozone_output_stream: true;
       =namelist:atmospp=ozone_fields: true;
type=boolean

[namelist:atmospp=process_all_streams]
compulsory=true
description=Process all fieldsfile streams
help=By default the postproc app will transform and/or archive all
    =available fieldsfiles.
    =Select this option to define a list.
ns=Atmosphere
sort-key=AP2a
trigger=namelist:atmospp=process_streams: false;
       =namelist:atmospp=process_means: false;
type=boolean

[namelist:atmospp=process_means]
compulsory=true
description=Process chosen mean fieldsfile streams
help=Filenames matching the format <RUNID>a.p<STREAM><DATESTAMP> will be processed
    =as means if the <STREAM> character(s) appears in the list.
    =
    = 'm,s,y' would process the traditional monthly, seasonal and annual means
    =
    = <STREAM> may be 1 or 2 characters.  Where a single character is used,
    =the first will be assumed to be "p and/or m".
    =Ranges are acceptable -
    =    e.g. 'a-c' matches any or all  <STREAM>s from: "pa","pb","pc","ma","mb","mc"
    ='p1-5' matches any or all <STREAM>s from: "p1","p2","p3","p4","p5"
    =Negations are acceptable -
    =    e.g. '^ps' do not process <STREAM> "ps"
length=:
ns=Atmosphere
pattern=^(\^?[pm]?[a-z1-9](\-[a-z1-9])?)?(?:,(\^?[pm]?[a-z1-9]?(\-[a-z1-9])?))*$
sort-key=AP2b

[namelist:atmospp=process_streams]
compulsory=true
description=Process chosen fieldsfile streams
help=Filenames matching the format <RUNID>a.p<STREAM><DATESTAMP> will be processed
    =as STASH files if the <STREAM> character(s) appears in the list.
    =
    = <STREAM> may be 1 or 2 characters.  Where a single character is used,
    =the first will be assumed to be "p and/or m".
    =Ranges are acceptable -
    =    e.g. 'a-c' matches any or all  <STREAM>s from: "pa","pb","pc","ma","mb","mc"
    ='p1-5' matches any or all <STREAM>s from: "p1","p2","p3","p4","p5"
    =Negations are acceptable -
    =    e.g. '^ps' do not process <STREAM> "ps"
length=:
ns=Atmosphere
pattern=^(\^?[pm]?[a-z1-9](\-[a-z1-9])?)?(?:,(\^?[pm]?[a-z1-9]?(\-[a-z1-9])?))*$
sort-key=AP2c

[namelist:atmospp=share_directory]
compulsory=true
description=History directory
help=A shared directory accessible to all cycles -
    =containing all restart dumps and pp files
ns=Atmosphere
sort-key=1

[namelist:atmospp=streams_to_cutout]
compulsory=true
description=Fieldsfile streams to be archived as a cut-out region
help=Use the mule-cutout utility to extract a subdomain from listed full-field stream(s)
    =
    =Filenames matching the format: <RUNID>a.p<STREAM><DATESTAMP> will be cutout if
    =<STREAM> character(s) appears in the list.
    =
    = <STREAM> may be 1 or 2 characters.  Where 1 is used, the first character
    =will be assumed to be "p and/or m".
length=:
ns=Atmosphere/File transformation
pattern=^([pm]?[a-zA-Z0-9])?(?:,([pm]?[a-zA-Z0-9]))*,*$
sort-key=CPP4a
trigger=namelist:atmospp=cutout_coords_type: this != '' ;
       =namelist:atmospp=cutout_coords: this != ''

[namelist:atmospp=streams_to_netcdf]
compulsory=true
description=List of UM stream(s) containing fields to be extracted to netCDF
help=Filenames matching the format <RUNID>a.p<STREAM><DATESTAMP> will be transformed
    =if the <STREAM> character(s) appears in the list.
    =
    = <STREAM> may be 1 or 2 characters.  Where 1 is used, the first character
    =will be assumed to be "p and/or m".
length=:
ns=Atmosphere/File transformation
pattern=^([pm]?[a-zA-Z0-9])?(?:,([pm]?[a-zA-Z0-9]))*$
sort-key=NC1
trigger=namelist:atmospp=fields_to_netcdf: this != "";
       =namelist:atmospp=netcdf_filetype: this != "";
       =namelist:atmospp=netcdf_compression: this != "";

[namelist:atmospp=um_utils]
compulsory=true
description=Path to UM utilities
help=UM utilities currently required include um-pumf and um-convpp.
    =For utilites at UM versions older than 10.4 then um-ff2pp (which calls
    =um-convieee) will be used instead of um-convpp.
ns=Atmosphere
sort-key=2

[namelist:atmosverify]
ns=Archive Integrity/Atmosphere
sort-key=2

[namelist:atmosverify=archive_timestamps]
compulsory=true
description=Timestamps from archiving restart files
help=Only archive restart files matching given month-day timestamps.
    =Format: MM-DD
    =e.g. 12-01
    = Alternatively: Monthly, Seasonal, Biannual or Annual - the datestamp(s)
    =                will then be taken relative to the mean reference date
length=:
ns=Archive Integrity/Atmosphere
pattern=^((\d{2}-\d{2})?(?:,(\d{2}-\d{2}))*,*|(Monthly|Seasonal|Biannual|Annual))*,*$
sort-key=dump_1

[namelist:atmosverify=delay_rst_archive]
compulsory=true
description=Dump archiving delay after the Nrun date
help=The postprocessing has the facility to delay the start of dump archiving
    =for a number of months.  Please enter the length of the delay here.
    =   For example: 1m, 3months, 1year
    =
ns=Archive Integrity/Atmosphere
pattern=^\d+[myxMYX].*$
sort-key=dump_2

[namelist:atmosverify=ff_streams]
compulsory=false
description=List of streams which have been archived as fieldsfile rather than pp
help=Format: [mp]?[a-z0-9]
    =Where a single character stream is given, a "p" prefix will be assumed.
length=:
ns=Archive Integrity/Atmosphere
pattern=^(([mp])?[a-zA-Z0-9])?(?:,(([mp])?[a-zA-Z0-9]))*$
sort-key=pp_2

[namelist:atmosverify=intermittent_patterns]
compulsory=false
description=Pattern of expected presence in archive for intermittent streams
help=Format: [xo]*
    =Please state the regular pattern of files expected.
    =  o: File present
    =  x: File not present
    = Example:  Every other file expected - ox
    = Example:  Data points every 10days in 3-daily stream - xxxoxxoxxo
length=:
ns=Archive Integrity/Atmosphere
pattern=^([xo]+)?(?:,[xo]+)*$
sort-key=pp_3b

[namelist:atmosverify=intermittent_streams]
compulsory=false
description=Fieldsfile streams only periodically present
help=Format: [mp]?[a-z0-9]
    =Where a single character stream is given, a "p" prefix will be assumed.
length=:
ns=Archive Integrity/Atmosphere
pattern=^(([mp])?[a-zA-Z0-9])?(?:,(([mp])?[a-zA-Z0-9]))*$
sort-key=pp_3a
trigger=namelist:atmosverify=intermittent_patterns: this != ''

[namelist:atmosverify=mean_reference_date]
compulsory=true
description=Means files calculated based on mean reference date
help=Day supercedes startdate for monthly means, month supercedes for seasonal
    =and annual means. Mean reference year supercedes startdate for decadal means.
    =Format: YYYYMMDD
    =e.g. 19781201
ns=Archive Integrity/Atmosphere
pattern=^\d{4,8}$
sort-key=mean_1

[namelist:atmosverify=meanstreams]
compulsory=false
description=Mean fieldsfile streams: msyx
help=Turn on  monthly (m), seasonal (s), annual (y) and decadal (x) means
    =Example: '1m','1y'
    =Default: 1m,1s,1y,1x
length=:
ns=Archive Integrity/Atmosphere
pattern=^(1[msyx])?(?:,(1[msyx]))*,*$
sort-key=mean_2

[namelist:atmosverify=ozone_stream]
compulsory=false
description=Source stream for ozone redistribution fields
help=<STREAMID> for the file containing ozone fields
    =
    =Optional prefix to single character <STREAMID>:
    =     'p' or 'm': Where not given 'p' will be used.
ns=Archive Integrity/Atmosphere
pattern=^([pm]?[a-z1-9])$
sort-key=pp_1y

[namelist:atmosverify=pp_climatemeans]
compulsory=true
description=Climate means produced by the PostProc app
fail-if=this != namelist:atmospp=create_means
help=
ns=Archive Integrity/Atmosphere
sort-key=mean_2a
type=boolean

[namelist:atmosverify=spawn_netcdf_streams]
compulsory=false
description=Fieldsfile streams expected to spawn netCDF output
help=Format: [mp]?[a-z0-9]
    =Where a single character stream is given, a "p" prefix will be assumed.
    =If no data should be extracted to netCDF format: leave input as blank.
    =
    =The verification can only ascertain if files matching expected dates
    =exist in an expected archive collection.
    =
    =The frequency and custom facets for netCDF filenames (according to the
    =Met Office netCDF filenaming convention) are determined by the postproc app
    =based on the field data discovered within the input fieldsfile, and cannot be
    =pre-determined by the archive_integrity app.
length=:
ns=Archive Integrity/Atmosphere
pattern=^(([mp])?[a-zA-Z0-9])?(?:,(([mp])?[a-zA-Z0-9]))*$
sort-key=pp_1x

[namelist:atmosverify=streams_10d]
compulsory=false
description=Instantaneous streams reinitialising at 10 days interval
help=Format: [mp]?[a-z0-9]
    =Where a single character stream is given, a "p" prefix will be assumed.
    =If 10 day stream not required: leave input as blank.
length=:
ns=Archive Integrity/Atmosphere
pattern=^(([mp])?[a-zA-Z0-9])?(?:,(([mp])?[a-zA-Z0-9]))*$
sort-key=pp_1d

[namelist:atmosverify=streams_10h]
compulsory=false
description=Instantaneous streams reinitialising at 10 hourly interval
help=Format: [mp]?[a-z0-9]
    =Where a single character stream is given, a "p" prefix will be assumed.
    =If 10 hour stream not required: leave input as blank.
length=:
ns=Archive Integrity/Atmosphere
pattern=^(([mp])?[a-zA-Z0-9])?(?:,(([mp])?[a-zA-Z0-9]))*$
sort-key=pp_1a10

[namelist:atmosverify=streams_12h]
compulsory=false
description=Instantaneous streams reinitialising at 12 hourly interval
help=Format: [mp]?[a-z0-9]
    =Where a single character stream is given, a "p" prefix will be assumed.
    =If 12 hour stream not required: leave input as blank.
length=:
ns=Archive Integrity/Atmosphere
pattern=^(([mp])?[a-zA-Z0-9])?(?:,(([mp])?[a-zA-Z0-9]))*$
sort-key=pp_1a12

[namelist:atmosverify=streams_1d]
compulsory=false
description=Instantaneous streams reinitialising at a daily interval
help=Format: [mp]?[a-z0-9]
    =Where a single character stream is given, a "p" prefix will be assumed.
    =If 1 day stream not required: leave input as blank.
length=:
ns=Archive Integrity/Atmosphere
pattern=^(([mp])?[a-zA-Z0-9])?(?:,(([mp])?[a-zA-Z0-9]))*$
sort-key=pp_1b

[namelist:atmosverify=streams_1m]
compulsory=false
description=Instantaneous streams reinitialising at 1 month interval
help=Format: [mp]?[a-z0-9]
    =Where a single character stream is given, a "p" prefix will be assumed.
    =e.g. a,d,pm,z
    =If 1 month stream not required: leave input as blank.
length=:
ns=Archive Integrity/Atmosphere
pattern=^(([mp])?[a-zA-Z0-9])?(?:,(([mp])?[a-zA-Z0-9]))*$
sort-key=pp_1f

[namelist:atmosverify=streams_2d]
compulsory=false
description=Instantaneous streams reinitialising at 2 days interval
help=Format: [mp]?[a-z0-9]
    =Where a single character stream is given, a "p" prefix will be assumed.
    =If 2 day stream not required: leave input as blank.
length=:
ns=Archive Integrity/Atmosphere
pattern=^(([mp])?[a-zA-Z0-9])?(?:,(([mp])?[a-zA-Z0-9]))*$
sort-key=pp_1c

[namelist:atmosverify=streams_30d]
compulsory=false
description=Instantaneous streams reinitialising at 30 days interval
help=Format: [mp]?[a-z0-9]
    =Where a single character stream is given, a "p" prefix will be assumed.
    =e.g. a,d,pm,z
    =If 30 day stream not required: leave input as blank.
length=:
ns=Archive Integrity/Atmosphere
pattern=^(([mp])?[a-zA-Z0-9])?(?:,(([mp])?[a-zA-Z0-9]))*$
sort-key=pp_1e

[namelist:atmosverify=streams_6h]
compulsory=false
description=Instantaneous streams reinitialising at 6 hourly interval
help=Format: [mp]?[a-z0-9]
    =Where a single character stream is given, a "p" prefix will be assumed.
    =If 6 hour stream not required: leave input as blank.
length=:
ns=Archive Integrity/Atmosphere
pattern=^(([mp])?[a-zA-Z0-9])?(?:,(([mp])?[a-zA-Z0-9]))*$
sort-key=pp_1a6

[namelist:atmosverify=streams_90d]
compulsory=false
description=Instantaneous streams reinitialising at 90 days interval
help=Format: [mp]?[a-z0-9]
    =Where a single character stream is given, a "p" prefix will be assumed.
    =e.g. a,d,ms,z
    =If 90 day stream not required: leave input as blank.
length=:
ns=Archive Integrity/Atmosphere
pattern=^(([mp])?[a-zA-Z0-9])?(?:,(([mp])?[a-zA-Z0-9]))*$
sort-key=pp_1g

[namelist:atmosverify=timelimitedstreams]
compulsory=true
description=Include time limited streams
help=Include an additional focused stream period within the model run
    =(.ph files)
ns=Archive Integrity/Atmosphere
sort-key=pp_9a
trigger=namelist:atmosverify=tlim_streams: true;
       =namelist:atmosverify=tlim_starts: true;
       =namelist:atmosverify=tlim_ends: true;
type=boolean

[namelist:atmosverify=tlim_ends]
compulsory=true
description=End date of time limited period(s)
help=Format: YYYYMMDD
    =e.g. 19900501
length=:
ns=Archive Integrity/Atmosphere
pattern=^(\d{8})?(?:,(\d{8}))*,*$
sort-key=pp_9d

[namelist:atmosverify=tlim_starts]
compulsory=true
description=Start date of time limited period(s)
help=Format: YYYYMMDD
    =e.g. 19900501
length=:
ns=Archive Integrity/Atmosphere
pattern=^(\d{8})?(?:,(\d{8}))*,*$
sort-key=pp_9c

[namelist:atmosverify=tlim_streams]
compulsory=true
description=Stream character(s) for time limited stream(s)
help=Format: [mp]?[a-z0-9]
    =Where a single character stream is given, a "p" prefix will be assumed.
    =Default: h
length=:
ns=Archive Integrity/Atmosphere
pattern=^(([mp])?[a-zA-Z0-9])?(?:,(([mp])?[a-zA-Z0-9]))*$
sort-key=pp_9b

[namelist:atmosverify=verify_model]
compulsory=true
description=Verify expected contents of the archive for the UM atmosphere model
help=Run the UM atmosphere archive_integrity app to verify that files expected
    =to be present in the archive are, in fact, there.
ns=Archive Integrity/Atmosphere
sort-key=0
trigger=namelist:atmosverify=archive_timestamps: true;
       =namelist:atmosverify=delay_rst_archive: true;
       =namelist:atmosverify=mean_reference_date: true;
       =namelist:atmosverify=meanstreams: true;
       =namelist:atmosverify=pp_climatemeans: true;
       =namelist:atmosverify=ff_streams: true;
       =namelist:atmosverify=spawn_netcdf_streams: true;
       =namelist:atmosverify=streams_6h: true;
       =namelist:atmosverify=streams_10h: true;
       =namelist:atmosverify=streams_12h: true;
       =namelist:atmosverify=streams_1d: true;
       =namelist:atmosverify=streams_2d: true;
       =namelist:atmosverify=streams_10d: true;
       =namelist:atmosverify=streams_30d: true;
       =namelist:atmosverify=streams_90d: true;
       =namelist:atmosverify=timelimitedstreams: true;
type=boolean

[namelist:cice_archiving]
ns=CICE

[namelist:cice_archiving=archive_means]
compulsory=true
description=Archive means files
help=
ns=CICE/Diagnostics/Meaning
sort-key=arch0
trigger=namelist:cice_archiving=means_to_archive: true
type=boolean

[namelist:cice_archiving=archive_restart_buffer]
compulsory=true
description=Keep the latest restart files from archiving
help=Number of files to leave after archiving is complete.
ns=CICE/Restart Files
range=0:
sort-key=arch2
type=integer

[namelist:cice_archiving=archive_restart_timestamps]
compulsory=true
description=Archive selected timestamped restart files
help=Only archive restart files matching given month-day timestamps.
    =Leave blank to archive all files.
    =Format: 'MM-DD'
length=:
ns=CICE/Restart Files
pattern=^(\d{2}-\d{2})?(?:,(\d{2}-\d{2}))*,*$
sort-key=arch3

[namelist:cice_archiving=archive_restarts]
compulsory=true
description=Archive restart files
help=
ns=CICE/Restart Files
sort-key=arch1
trigger=namelist:cice_archiving=archive_restart_timestamps: true;
       =namelist:cice_archiving=archive_restart_buffer: true;
type=boolean

[namelist:cice_archiving=means_to_archive]
compulsory=true
description=Additional mean files to be archived
help=Standard monthly (1m), seasonal (1s) and annual (1y) files
    =Examples: 6h, 12h, 1d, 5d
length=:
ns=CICE/Diagnostics/Meaning
pattern=^(\d+[dh])?(?:,(\d+[dh]))*,*$
sort-key=arch1

[namelist:cice_pp]
ns=CICE

[namelist:cice_pp=debug]
compulsory=false
description=Run the CICE archive and meaning app in test mode
help=Allow errors produced in external commands to be ignored until the
    =completion of the task for debug purposes.
    =
    =Files will not actually be archived.
    =Rather a list of files that would be archived is written to
    =standard out and to the log file.
ns=CICE
sort-key=z
type=boolean

[namelist:cice_pp=pp_run]
compulsory=false
description=Run CICE post processing tasks
help=
ns=CICE
sort-key=0
trigger=namelist:cice_pp=restart_directory: true;
       =namelist:cice_pp=work_directory: true;
       =namelist:cice_pp=debug: true;
       =namelist:cice_archiving=archive_restarts: true;
       =namelist:cice_archiving=archive_means: true;
       =namelist:cice_processing=create_means: true;
       =namelist:cice_processing=compress_netcdf: true;
       =namelist:cice_processing=cat_daily_means: true;
type=boolean

[namelist:cice_pp=restart_directory]
compulsory=true
description=Directory containing restart files
help=A shared directory accessible to all cycles
ns=CICE
sort-key=2

[namelist:cice_pp=work_directory]
compulsory=true
description=Directory containing diagnostic output files
help=Generally set to the current working directory
ns=CICE
sort-key=3

[namelist:cice_processing]
ns=CICE

[namelist:cice_processing=base_component]
compulsory=true
description=Base component mean for creation of standard monthly, seasonal and annual means
ns=CICE/Diagnostics/Meaning
sort-key=1b
value-titles=1 month, 15 days, 10 days, 5 days, 2 days, 1 day, 12 hours
values=1m,15d,10d,5d,2d,1d,12h

[namelist:cice_processing=cat_daily_means]
compulsory=true
description=Concatenate one month of daily means files into a single file
help=A file for each day of the month is required
ns=CICE/Diagnostics
sort-key=diag_cat1
type=boolean

[namelist:cice_processing=chunking_arguments]
compulsory=true
description=Chunking arguments to be used when compressing netcdf files.
help=See the man page on nccopy for more help (-c option)
length=:
ns=CICE/Diagnostics
pattern=^(\w+/\d+)
sort-key=compress3

[namelist:cice_processing=compress_netcdf]
compulsory=true
description=Compress means files prior to archiving
help=Select the pre-processing utility required for compression
ns=CICE/Diagnostics
sort-key=compress1
trigger=namelist:cice_processing=compression_level: nccopy ;
       =namelist:cice_processing=chunking_arguments: nccopy
value-titles=nccopy
values=nccopy

[namelist:cice_processing=compression_level]
compulsory=true
description=Level of compression of netcdf files.
help=An integer value between 0 and 9 where 0=no compression, 9=maximum compression.
ns=CICE/Diagnostics
range=0:9
sort-key=compress2
trigger=namelist:cice_processing=chunking_arguments: this > 0;
type=integer

[namelist:cice_processing=correct_time_bounds_variables]
compulsory=true
description=Correct the time bounds variables after meaning files
help=Creating mean files produces an incorrect time bounds
    =This option will correct the time bounds values by taking
    =the earliest and latest dates from the input files and taking
    =units into account
ns=CICE/Diagnostics/Meaning
sort-key=fixtime2
type=boolean

[namelist:cice_processing=correct_time_variables]
compulsory=true
description=Correct the time variable after meaning files
help=Creating mean files can produce an incorrect time stamp
    =(for example if units are changed between input files).
    =This option will correct the time values taking the units
    =into account
ns=CICE/Diagnostics/Meaning
sort-key=fixtime1
type=boolean

[namelist:cice_processing=create_annual_mean]
compulsory=true
description=Create annual means files
help=
ns=CICE/Diagnostics/Meaning
sort-key=1create_c
type=boolean

[namelist:cice_processing=create_decadal_mean]
compulsory=true
description=Create decadal means files
help=
ns=CICE/Diagnostics/Meaning
sort-key=1create_d
type=boolean

[namelist:cice_processing=create_means]
compulsory=true
description=Create all standard means files
help=Create standard (1m, 1s, 1y)  means based on the mean reference date
ns=CICE/Diagnostics/Meaning
sort-key=1
trigger=namelist:cice_processing=means_cmd: true;
       =namelist:cice_processing=base_component: true;
       =namelist:cice_processing=create_monthly_mean: true;
       =namelist:cice_processing=create_seasonal_mean: true;
       =namelist:cice_processing=create_annual_mean: true;
       =namelist:cice_processing=create_decadal_mean: true;
       =namelist:cice_processing=correct_time_bounds_variables: true;
       =namelist:cice_processing=correct_time_variables: true;
       =namelist:cice_processing=time_vars: true;
type=boolean

[namelist:cice_processing=create_monthly_mean]
compulsory=true
description=Create monthly means files
help=
ns=CICE/Diagnostics/Meaning
sort-key=1create_a
type=boolean

[namelist:cice_processing=create_seasonal_mean]
compulsory=true
description=Create seasonal means files
help=
ns=CICE/Diagnostics/Meaning
sort-key=1create_b
type=boolean

[namelist:cice_processing=means_cmd]
compulsory=true
description=Create Means command
help=Command to be executed for creating month,
    =seasonal and annual means
ns=CICE/Diagnostics/Meaning
sort-key=1a

[namelist:cice_processing=time_vars]
compulsory=true
description=Names of time variable(s) in CICE output files
help=Creating mean files can produce an incorrect time stamp
    =(for example if units are changed between input files).
    =These variables will be corrected taking into account
    =the units in the input files
length=:
ns=CICE/Diagnostics/Meaning
sort-key=fixtime3

[namelist:ciceverify]
ns=Archive Integrity/CICE
sort-key=4

[namelist:ciceverify=archive_timestamps]
compulsory=true
description=Timestamps from archiving restart files
help=Only archive restart files matching given month-day timestamps.
    =Format: MM-DD
    =e.g. 06-01, 12-01
    = Alternatively: Monthly, Seasonal, Biannual or Annual - the datestamp(s)
    =                will then be taken relative to the mean reference date
length=:
ns=Archive Integrity/CICE
pattern=^((\d{2}-\d{2})?(?:,(\d{2}-\d{2}))*,*|(Monthly|Seasonal|Biannual|Annual))*,*$
sort-key=arch3

[namelist:ciceverify=buffer_restart]
compulsory=true
description=Number of restart files to be kept in the buffer before archiving
help=Set equal to the postproc setting of buffer_archive
    =Default=1
    =
ns=Archive Integrity/CICE
sort-key=arch2
type=integer

[namelist:ciceverify=cice_age]
compulsory=true
description=Include CICE age restart files
help=
ns=Archive Integrity/CICE
sort-key=dump_2
type=boolean

[namelist:ciceverify=mean_reference_date]
compulsory=true
description=Means files calculated based on mean reference date
help=Day supercedes startdate for monthly means, month supercedes for seasonal
    =and annual means. Mean reference year supercedes startdate for decadal means.
    =Format: YYYYMMDD
    =e.g. 19781201
ns=Archive Integrity/CICE
pattern=^\d{4,8}$
sort-key=mean_0

[namelist:ciceverify=meanstreams]
compulsory=true
description=Mean fieldsfile streams: dmsy
help=Turn on  daily (d), monthly (m), seasonal (s) and annual (y) means
    =produced for ALL of the meanfields.
    =
    =Example: '1d_1m', '10d', '1m', '1y'
    =Default: 1m,1s,1y
    =
    =For concatenated files use an "_X" suffix, where "X" is the number
    =of periods concatenated.
length=:
ns=Archive Integrity/CICE
pattern=^(\d+[hdmsyx](_\d+[a-z])?)?(?:,(\d+[hdmsyx](_\d+[a-z])?))*,*$
sort-key=mean_1

[namelist:ciceverify=restart_suffix]
compulsory=false
description=Suffix applied to restart files
help=Some versions of CICE (pre vn5.0) have no prefix .nc to restart files.
    =Please leave this field blank if this is the case.
    =Default='.nc'
ns=Archive Integrity/CICE
sort-key=dump_2a
value-titles=None,.nc
values=,.nc

[namelist:ciceverify=streams_10d]
compulsory=false
description=Files containing daily mean output
ns=Archive Integrity/CICE
sort-key=mean_2b
type=boolean

[namelist:ciceverify=streams_10d_1m]
compulsory=false
description=Files containing 1m worth of concatenated 10-day output
ns=Archive Integrity/CICE
sort-key=mean_2a
type=boolean

[namelist:ciceverify=streams_12h]
compulsory=false
description=Files containing 12-hourly mean output
ns=Archive Integrity/CICE
sort-key=mean_2b
type=boolean

[namelist:ciceverify=streams_12h_1d]
compulsory=false
description=Files containing 1-day worth of concatenated 12-hourly output
ns=Archive Integrity/CICE
sort-key=mean_2a
type=boolean

[namelist:ciceverify=streams_12h_1m]
compulsory=false
description=Files containing 1m worth of concatenated 12-hourly output
ns=Archive Integrity/CICE
sort-key=mean_2a
type=boolean

[namelist:ciceverify=streams_1d]
compulsory=false
description=Files containing daily mean output
ns=Archive Integrity/CICE
sort-key=mean_2b
type=boolean

[namelist:ciceverify=streams_1d_1m]
compulsory=false
description=Files containing 1m worth of concatenated daily output
ns=Archive Integrity/CICE
sort-key=mean_2a
type=boolean

[namelist:ciceverify=streams_1h]
compulsory=false
description=Files containing hourly mean output
ns=Archive Integrity/CICE
sort-key=mean_2b
type=boolean

[namelist:ciceverify=streams_1h_1d]
compulsory=false
description=Files containing 1-day worth of concatenated hourly output
ns=Archive Integrity/CICE
sort-key=mean_2a
type=boolean

[namelist:ciceverify=streams_1m]
compulsory=false
description=Files containing monthly mean output
ns=Archive Integrity/CICE
sort-key=mean_2b
type=boolean

[namelist:ciceverify=streams_6h]
compulsory=false
description=Files containing 6-hourly mean output
ns=Archive Integrity/CICE
sort-key=mean_2b
type=boolean

[namelist:ciceverify=streams_6h_1d]
compulsory=false
description=Files containing 1-day worth of concatenated 6-hourly output
ns=Archive Integrity/CICE
sort-key=mean_2a
type=boolean

[namelist:ciceverify=streams_6h_1m]
compulsory=false
description=Files containing 1m worth of concatenated 6-hourly output
ns=Archive Integrity/CICE
sort-key=mean_2a
type=boolean

[namelist:ciceverify=verify_model]
compulsory=true
description=Verify expected contents of the archive for the CICE model
help=Run the CICE archive_integrity app to verify that files expected
    =to be present in the archive are, in fact, there.
ns=Archive Integrity/CICE
sort-key=0
trigger=namelist:ciceverify=archive_timestamps: true;
       =namelist:ciceverify=buffer_restart: true;
       =namelist:ciceverify=cice_age: true;
       =namelist:ciceverify=restart_suffix: true;
       =namelist:ciceverify=mean_reference_date: true;
       =namelist:ciceverify=meanstreams: true;
       =namelist:ciceverify=streams_1h: true;
       =namelist:ciceverify=streams_6h: true;
       =namelist:ciceverify=streams_12h: true;
       =namelist:ciceverify=streams_1d: true;
       =namelist:ciceverify=streams_10d: true;
       =namelist:ciceverify=streams_1m: true;
       =namelist:ciceverify=streams_1h_1d: true;
       =namelist:ciceverify=streams_6h_1d: true;
       =namelist:ciceverify=streams_12h_1d: true;
       =namelist:ciceverify=streams_6h_1m: true;
       =namelist:ciceverify=streams_12h_1m: true;
       =namelist:ciceverify=streams_1d_1m: true;
       =namelist:ciceverify=streams_10d_1m: true;
type=boolean

[namelist:commonverify]
ns=Archive Integrity/Common Attributes
sort-key=1

[namelist:commonverify:testing]
compulsory=false
description=Switch for use in rose-stem testing app
help=The verification app will read a prescribed logfile ("cylclog") rather than
    =interrogating the real archive.
    =
    =This switch is only useful where the postproc app has created the relevant log file
ns=Archive Integrity/Common Attributes
sort-key=zzz
type=boolean

[namelist:commonverify=check_additional_files_archived]
compulsory=true
description=Flag unexpected files present in the archive
help=Archive verification will output any filenames or streams which are present in
    =the archive, but not in the generated list of expected files.
ns=Archive Integrity/Common Attributes
sort-key=4
type=boolean

[namelist:commonverify=dataset]
compulsory=true
description=Archive data set
ns=Archive Integrity/Common Attributes
sort-key=1

[namelist:commonverify=enddate]
compulsory=true
description=End date of dataset
help=$DATE2
    =
    =Calculated from suite conf: Run Initialisation and Cycling: Total Run length
    =Format: YYYYMMDD
    =e.g. 19881230
ns=Archive Integrity/Common Attributes
pattern=^\d{8}$
sort-key=3b

[namelist:commonverify=prefix]
compulsory=true
description=Common prefix to output filename format
help=$RUNID
ns=Archive Integrity/Common Attributes
sort-key=2

[namelist:commonverify=startdate]
compulsory=true
description=Start date of dataset
help=$DATE1
    =
    =Taken from suite conf: Run Initialisation and Cycling: Model basis time
    =Format: YYYYMMDD
    =e.g. 19780901
ns=Archive Integrity/Common Attributes
pattern=^\d{8}$
sort-key=3a

[namelist:delete_sc]
ns=Atmosphere/Archiving

[namelist:delete_sc=del_switch]
compulsory=true
description=Turn on deletion of superceded files for this model run
help=Are superseded files to be deleted this model run. Restart dumps,
    =instantaneous pp files,
    =and climate meaned pp files can be deleted.
ns=Atmosphere/Archiving
sort-key=D0
trigger=namelist:delete_sc=gpdel: true;
       =namelist:delete_sc=gcmdel: true;
       =namelist:delete_sc=ncdel: true;
type=boolean

[namelist:delete_sc=gcmdel]
compulsory=true
description=Delete superseded climate mean pp files
ns=Atmosphere/Archiving
sort-key=D2
type=boolean

[namelist:delete_sc=gpdel]
compulsory=true
description=Delete superseded instantaneous pp files
ns=Atmosphere/Archiving
sort-key=D1
type=boolean

[namelist:delete_sc=ncdel]
compulsory=true
description=Delete archived netCDF files created by the postproc app
help=netCDF files may be created by the app with data extracted from fields/pp files.
ns=Atmosphere/Archiving
sort-key=D3
type=boolean

[namelist:monitoring]
ns=Post Processing - common settings/App Monitoring

[namelist:monitoring=ltimer]
compulsory=true
description=Activate timing instrumentation
help=Activate timing of methods and functions in the post processing app. The
    =results will be summarised and displayed in the standard output of the
    =app. To add instrumentation to a routine, first add 'import timer' to
    =the module, then decorate the function in question with '@timer.run_timer'
ns=Post Processing - common settings/App Monitoring
sort-key=5
type=boolean

[namelist:moose_arch]
ns=Post Processing - common settings/Moose Archiving

[namelist:moose_arch=archive_set]
compulsory=false
description=Moose Archiving Set
help=Usually the suite name: mi-**???
ns=Post Processing - common settings/Moose Archiving
sort-key=ArchMoose2

[namelist:moose_arch=dataclass]
compulsory=false
description=Moose data class
help=Leave blank if default (crum) is required
ns=Post Processing - common settings/Moose Archiving
sort-key=ArchMoose3

[namelist:moose_arch=ensembleid]
compulsory=false
description=Ensemble ID for moose:ens data class
help=
ns=Post Processing - common settings/Moose Archiving
sort-key=ArchMoose3b

[namelist:moose_arch=moopath]
compulsory=false
description=Directory path to Moose `moo` command
help=Leave blank if `moo` is available in the path
ns=Post Processing - common settings/Moose Archiving
sort-key=ArchMoose1

[namelist:moose_arch=mooproject]
compulsory=false
description=Project name required for creating Moose set
help=Leave blank if no project is required
ns=Post Processing - common settings/Moose Archiving
sort-key=ArchMoose4

[namelist:moose_arch=non_duplexed_set]
compulsory=false
description=Create a non-duplexed (non-critical) set
help=Creates a set whose contents will be archived as a single copy
    =instead of the default two copies.
    =
    =Use this option for non-critical datasets or those  which have
    =a shorter shelf life.
    =
    =This option is fixed for the lifetime of a set and CANNOT be
    =changed retrospectively.
ns=Post Processing - common settings/Moose Archiving
sort-key=ArchMoose2a
type=boolean

[namelist:nemo_archiving]
ns=NEMO

[namelist:nemo_archiving=archive_iceberg_trajectory]
compulsory=true
description=Archive iceberg trajectory files (diagnostics)
help=Switch to archive diagnostic trajectory files from the
    =Lagrangian Iceberg scheme
ns=NEMO/Diagnostics
sort-key=other1a
trigger=namelist:nemo_processing=exec_rebuild_iceberg_trajectory: true;
type=boolean

[namelist:nemo_archiving=archive_means]
compulsory=true
description=Archive means files
help=
ns=NEMO/Diagnostics/Meaning
sort-key=arch0
trigger=namelist:nemo_archiving=means_to_archive: true
type=boolean

[namelist:nemo_archiving=archive_restart_buffer]
compulsory=true
description=Keep the latest restart files from archiving
help=Number of files to leave after archiving is complete.
ns=NEMO/Restart Files
range=0:
sort-key=arch2
type=integer

[namelist:nemo_archiving=archive_restart_timestamps]
compulsory=true
description=Archive selected timestamped restart files
help=Only archive restart files matching given month-day timestamps.
    =Leave blank to archive all files.
    =Format: 'MM-DD'
length=:
ns=NEMO/Restart Files
pattern=^(\d{2}-\d{2})?(?:,(\d{2}-\d{2}))*,*$
sort-key=arch3

[namelist:nemo_archiving=archive_restarts]
compulsory=true
description=Archive restart files
help=
ns=NEMO/Restart Files
sort-key=arch1
trigger=namelist:nemo_processing=rebuild_restart_timestamps: true;
       =namelist:nemo_archiving=archive_restart_timestamps: true;
       =namelist:nemo_archiving=archive_restart_buffer: true;
       =namelist:nemo_processing=rebuild_restart_buffer: true;
       =namelist:nemo_processing=exec_rebuild_icebergs: true;
type=boolean

[namelist:nemo_archiving=means_to_archive]
compulsory=true
description=Additional mean files to be rebuilt as necessary and archived
help=Standard monthly (1m), seasonal (1s) and annual (1y) files
    =will be archived separately
    =Examples: 6h, 12h, 1d, 5d
length=:
ns=NEMO/Diagnostics/Meaning
pattern=^(\d+[dh])?(?:,(\d+[dh]))*,*$
sort-key=arch1

[namelist:nemo_pp]
ns=NEMO

[namelist:nemo_pp=debug]
compulsory=false
description=Run the NEMO archive and meaning app in test mode
help=Allow errors produced in external commands to be ignored until the
    =completion of the task for debug purposes.
    =
    =Files will not actually be archived.
    =Rather a list of files that would be archived is written to
    =standard out and to the log file.
ns=NEMO
sort-key=z
type=boolean

[namelist:nemo_pp=pp_run]
compulsory=false
description=Run NEMO post processing tasks
help=
ns=NEMO
sort-key=0
trigger=namelist:nemo_pp=restart_directory: true;
       =namelist:nemo_pp=work_directory: true;
       =namelist:nemo_pp=process_all_fieldsfiles: true;
       =namelist:nemo_pp=debug: true;
       =namelist:nemo_archiving=archive_restarts: true;
       =namelist:nemo_archiving=archive_iceberg_trajectory: true;
       =namelist:nemo_archiving=archive_means: true;
       =namelist:nemo_processing=create_means: true;
       =namelist:nemo_processing=exec_rebuild: true;
       =namelist:nemo_processing=msk_rebuild: true;
       =namelist:nemo_processing=compress_netcdf: true;
       =namelist:nemo_processing=extract_region: true;
type=boolean

[namelist:nemo_pp=process_all_fieldsfiles]
compulsory=true
description=Process all means fieldsfiles
help=By default the postproc app will process all available means fieldsfiles.
    =Select this option to define a list.
ns=NEMO/Diagnostics/Meaning
sort-key=0
trigger=namelist:nemo_processing=means_fieldsfiles: false;
type=boolean

[namelist:nemo_pp=restart_directory]
compulsory=true
description=Directory containing restart files
help=A shared directory accessible to all cycles
ns=NEMO
sort-key=2

[namelist:nemo_pp=work_directory]
compulsory=true
description=Directory containing diagnostic output  files
help=Generally set to the current working directory
ns=NEMO
sort-key=3

[namelist:nemo_processing]
ns=NEMO

[namelist:nemo_processing=base_component]
compulsory=true
description=Base component mean for creation of standard monthly, seasonal and annual means
ns=NEMO/Diagnostics/Meaning
sort-key=1b
value-titles=1 month, 15 days, 10 days, 5 days, 2 days, 1 day, 12 hours
values=1m,15d,10d,5d,2d,1d,12h

[namelist:nemo_processing=chunking_arguments]
compulsory=true
description=Chunking arguments to be used when compressing netcdf files
help=See the man page on nccopy for more help (-c option)
length=:
ns=NEMO/Diagnostics
pattern=(\w+/\d+ )
sort-key=compress3

[namelist:nemo_processing=compress_netcdf]
compulsory=true
description=Compress diagnostic netCDF files prior to archiving
help=Select the pre-processing utility required for compression
ns=NEMO/Diagnostics
sort-key=compress1
trigger=namelist:nemo_processing=compression_level: nccopy ;
       =namelist:nemo_processing=chunking_arguments: nccopy
value-titles=nccopy
values=nccopy

[namelist:nemo_processing=compression_level]
compulsory=true
description=Level of compression of netcdf files
help=An integer value between 0 and 9 where 0=no compression, 9=maximum compression.
ns=NEMO/Diagnostics
range=0:9
sort-key=compress2
trigger=namelist:nemo_processing=chunking_arguments: this > 0;
       =namelist:nemo_processing=region_chunking_args: this > 0;
type=integer

[namelist:nemo_processing=correct_time_bounds_variables]
compulsory=true
description=Correct the time bounds variables after meaning files
help=Creating mean files produces an incorrect time bounds
    =This option will correct the time bounds values by taking
    =the earliest and latest dates from the input files and taking
    =units into account
ns=NEMO/Diagnostics/Meaning
sort-key=fixtime2
type=boolean

[namelist:nemo_processing=correct_time_variables]
compulsory=true
description=Correct the time variable after meaning files
help=Creating mean files can produce an incorrect time stamp
    =(for example if units are changed between input files).
    =This option will correct the time values taking the units
    =into account
ns=NEMO/Diagnostics/Meaning
sort-key=fixtime3
type=boolean

[namelist:nemo_processing=create_annual_mean]
compulsory=true
description=Create annual means files
help=
ns=NEMO/Diagnostics/Meaning
sort-key=1create_c
type=boolean

[namelist:nemo_processing=create_decadal_mean]
compulsory=true
description=Create decadal means files
help=
ns=NEMO/Diagnostics/Meaning
sort-key=1create_d
type=boolean

[namelist:nemo_processing=create_means]
compulsory=true
description=Create all standard means files
help=Create monthly, seasonal and annual means based on the mean reference date
ns=NEMO/Diagnostics/Meaning
sort-key=1
trigger=namelist:nemo_processing=means_cmd: true;
       =namelist:nemo_processing=base_component: true;
       =namelist:nemo_processing=rebuild_mean_buffer: true;
       =namelist:nemo_processing=ncatted_cmd: true;
       =namelist:nemo_processing=create_monthly_mean: true;
       =namelist:nemo_processing=create_seasonal_mean: true;
       =namelist:nemo_processing=create_annual_mean: true;
       =namelist:nemo_processing=create_decadal_mean: true;
       =namelist:nemo_processing=correct_time_bounds_variables: true;
       =namelist:nemo_processing=correct_time_variables: true;
       =namelist:nemo_processing=time_vars: true;
type=boolean

[namelist:nemo_processing=create_monthly_mean]
compulsory=true
description=Create monthly means files
help=
ns=NEMO/Diagnostics/Meaning
sort-key=1create_a
type=boolean

[namelist:nemo_processing=create_seasonal_mean]
compulsory=true
description=Create seasonal means files
help=
ns=NEMO/Diagnostics/Meaning
sort-key=1create_b
type=boolean

[namelist:nemo_processing=exec_rebuild]
compulsory=true
description=NEMO rebuild Executable
help=Command to be executed for rebuilding multi-processor restart
    =and means files
    =
    =Some versions of rebuild_nemo.exe are able to take a namelist filename
    =as an argument.  Where no argument is given files will be rebuilt in
    =a temporary directory, using the traditional "nam_rebuild" file, such that
    =two rebuild processes may take place simultaneously.  Otherwise the
    =rebuild process will take place in the Share Directory.
    =The argument may be one of:
    =  * "%F" - this will result in a namelist file with a filename based on
    =    the name of the file being rebuilt:
    =       exec_rebuild=/path_to_exec/rebuild_nemo.exe %F
    =  * A fixed string - this will result in all rebuild processes using
    =    the same namelist filename (rebuild_nlfile):
    =       exec_rebuild=/path_to_exec/rebuild_nemo.exe rebuild_nlfile
    =
    =When a filename argument is used in a suite which has the
    =NEMO post-processing split such that rebuilding occurs in multiple
    =tasks use of "%F", rather than a fixed filename, is essential.
    =
ns=NEMO
sort-key=4

[namelist:nemo_processing=exec_rebuild_iceberg_trajectory]
compulsory=false
description=Archive iceberg trajectory files (diagnostics)
help=Script to be executed for rebuilding iceberg trajectory files
    =Default: $CYLC_SUITE_SHARE_DIR/fcm_make_pp/build/bin.icb_pp.py
ns=NEMO/Diagnostics
sort-key=other1b

[namelist:nemo_processing=exec_rebuild_icebergs]
compulsory=false
description=NEMO icebergs rebuild script
help=Script to be executed for completing the rebuild process of iceberg
    =restart files.
    =Default: $CYLC_SUITE_SHARE_DIR/fcm_make_pp/build/bin/icb_combrest
ns=NEMO/Restart Files
sort-key=0

[namelist:nemo_processing=extract_region]
compulsory=true
description=Extract a region from netCDF diagnostic output
help=
ns=NEMO/Diagnostics
sort-key=region1
trigger=namelist:nemo_processing=region_fieldsfiles: true ;
       =namelist:nemo_processing=region_dimensions: true ;
       =namelist:nemo_processing=region_chunking_args: true
type=boolean

[namelist:nemo_processing=means_cmd]
compulsory=true
description=Create Means command
help=Command to be executed for creating month,
    =seasonal and annual means
ns=NEMO/Diagnostics/Meaning
sort-key=1a

[namelist:nemo_processing=means_fieldsfiles]
compulsory=false
description=Means fieldsfiles to be processed
help=List of fieldsfile to process.  Examples of available types:
    =  NEMO  : grid_U, grid_V, grid_W, grid_T, diaptr, trnd3d
    =  MEDUSA: ptrc_T, diad_T, ptrd_T
    =
    = Default: grid_U, grid_V, grid_W, grid_T, diaptr, scalar, ptrc_T, diad_T
length=:
ns=NEMO/Diagnostics/Meaning
sort-key=0a

[namelist:nemo_processing=msk_rebuild]
compulsory=true
description=When using land suppression in NEMO, set value beneath land processor to missing value.
help=This feature is only relevant when using land suppression in NEMO.
    =Missing value = 0 for restarts.
    =
    =If land processors are not removed by NEMO then this option has no has no effect - Set to `False`.
    =
    =WARNING: Older versions of rebuild_nemo do not support msk_rebuild=true
    =Please check the option is supported.  Set to `False` if unsure.
ns=NEMO
sort-key=41
type=boolean

[namelist:nemo_processing=ncatted_cmd]
compulsory=true
description=Path to ncatted command
help=diaptr field files produced by XIOS incorrectly have global rather
    =than zonal attributes.  This app corrects the error using ncatted.
ns=NEMO/Diagnostics/Meaning
sort-key=zonal1

[namelist:nemo_processing=rebu_cache]
compulsory=true
description=Cache memory used by the nemo-rebuild executable.
help=Default is 32000000 (32Gb)
    =Recommand 9000000 (9Gb)
ns=NEMO
sort-key=4f
type=integer

[namelist:nemo_processing=rebuild_compress]
compulsory=true
description=Compress NEMO restart and output files at rebuild phase
help=Set to true to compress NEMO output and restart when rebuilt.
    =This process help saving memory.
    =(Needs up-to-date rebuild-nemo executable)
ns=NEMO
sort-key=4a
trigger=namelist:nemo_processing=xchunk: true ;
       =namelist:nemo_processing=ychunk: true ;
       =namelist:nemo_processing=zchunk: true ;
       =namelist:nemo_processing=tchunk: true ;
       =namelist:nemo_processing=rebu_cache: true
type=boolean

[namelist:nemo_processing=rebuild_mean_buffer]
compulsory=true
description=Keep the latest means files from being rebuilt
help=Number of unprocessed means files to leave after rebuilding is complete.
ns=NEMO/Diagnostics/Meaning
range=0:
sort-key=2
type=integer

[namelist:nemo_processing=rebuild_restart_buffer]
compulsory=true
description=Keep the latest restart files from being rebuild
help=Number of unprocessed restart files to leave after rebuilding is complete.
ns=NEMO/Restart Files
range=0:
sort-key=1a
type=integer

[namelist:nemo_processing=rebuild_restart_timestamps]
compulsory=true
description=Rebuild selected timestamped restart files
help=Only rebuild restart files matching given month-day timestamps.
    =Leave blank to rebuild all files.
    =Format: 'MM-DD'
length=:
ns=NEMO/Restart Files
sort-key=1b

[namelist:nemo_processing=region_chunking_args]
compulsory=true
description=Chunking arguments to be used when compressing regional netcdf files
help=See the man page on nccopy for more help (-c option)
length=:
ns=NEMO/Diagnostics
pattern=(\w+/\d+ )
sort-key=region4

[namelist:nemo_processing=region_dimensions]
compulsory=true
description=Dimensions for the extracted region
           =<x-coordname>,<xmin>,<xmax>,<y-coordname>,<ymin>,<ymax>
help=<x-coordname>,<xmin>,<xmax>,<y-coordname>,<ymin>,<ymax>
    =
    =If the co-ordinate names are specific to the fieldsfile type,
    =then use %G as a place holder for the type.
length=6
ns=NEMO/Diagnostics
pattern=^[\w%_\-]+,\d+,\d+,[\w%_\-]+,\d+,\d+$
sort-key=region3

[namelist:nemo_processing=region_fieldsfiles]
compulsory=false
description=List of fields file types to be extracted
help=Default value: UK_shelf_T,UK_shelf_U,UK_shelf_V
length=:
ns=NEMO/Diagnostics
sort-key=region2

[namelist:nemo_processing=tchunk]
compulsory=true
description=T-Chunk size for nemo-rebuild compression
help=should be 1
ns=NEMO
sort-key=4e
type=integer

[namelist:nemo_processing=time_vars]
compulsory=true
description=Names of time variable(s) in NEMO output files
help=Creating mean files can produce an incorrect time stamp
    =(for example if units are changed between input files).
    =These variables will be corrected taking into account
    =the units in the input files
length=:
ns=NEMO/Diagnostics/Meaning
sort-key=fixtime3

[namelist:nemo_processing=xchunk]
compulsory=true
description=X-Chunk size for nemo-rebuild compression
help=To be between 1 and 500
    =Best is a multiple of column-number per proc.
ns=NEMO
sort-key=4b
type=integer

[namelist:nemo_processing=ychunk]
compulsory=true
description=Y-Chunk size for nemo-rebuild compression
help=To be between 1 and 500
    =Best is a multiple of line-number per proc.
ns=NEMO
sort-key=4c
type=integer

[namelist:nemo_processing=zchunk]
compulsory=true
description=Z-Chunk size for nemo-rebuild compression
help=should be 1
ns=NEMO
sort-key=4d
type=integer

[namelist:nemoverify]
ns=Archive Integrity/NEMO
sort-key=3

[namelist:nemoverify=archive_timestamps]
compulsory=true
description=Timestamps from archiving restart files
help=Only archive restart files matching given month-day timestamps.
    =Format: MM-DD
    =e.g. 06-01, 12-01
    = Alternatively: Monthly, Seasonal, Biannual or Annual - the datestamp(s)
    =                will then be taken relative to the mean reference date
length=:
ns=Archive Integrity/NEMO
pattern=^((\d{2}-\d{2})?(?:,(\d{2}-\d{2}))*,*|(Monthly|Seasonal|Biannual|Annual))*,*$
sort-key=arch3

[namelist:nemoverify=buffer_mean]
compulsory=true
description=Number of diagnostic mean files to be kept in the buffer before rebuilding
help=Set equal to the postproc setting of buffer_rebuild_mean
    =Default=1
    =
ns=Archive Integrity/NEMO
sort-key=mean_1
type=integer

[namelist:nemoverify=buffer_restart]
compulsory=true
description=Number of restart files to be kept in the buffer before archiving
help=(nemopostproc:buffer_archive * cycles per archive frequency) + nemopostproc:buffer_rebuild_rst
    =
    =Example:
    =    nemopostproc:buffer_archive = 1
    =    nemopostproc:buffer_rebuild_rst = 2
    =    Cycling frequency = 10 days
    =    NEMO restart archiving frequency = 6 months
    =        Set buffer_restart = 1 * (6 * 3cycles per month) + 2 = 20
    =
    =Default=1 - corresponding to nemopostproc:buffer_rebuild_rst=1 and nemopostproc:buffer_archive=0.
    =
ns=Archive Integrity/NEMO
sort-key=dump_1
type=integer

[namelist:nemoverify=iberg_traj]
compulsory=true
description=Include NEMO iceberg trajectory files
help=
ns=Archive Integrity/NEMO
sort-key=otherdiags_1
trigger=namelist:nemoverify=iberg_traj_tstamp: true;
       =namelist:nemoverify=iberg_traj_freq: true;
type=boolean

[namelist:nemoverify=iberg_traj_freq]
compulsory=true
description=NEMO iceberg trajectory file frequency
help=Period of reinitialisation for of production of trajectory files.
    =
    =Please specifcy a period in the form \d+[hdmsy]. For example "1m"
ns=Archive Integrity/NEMO
pattern=^\d+[hdmy]$
sort-key=otherdiags_1b

[namelist:nemoverify=iberg_traj_ts_per_day]
compulsory=true
description=Timesteps per day for nemo iceberg trajectory files
help=Daily timesteps
    =
    =Default=72
ns=Archive Integrity/NEMO
pattern=^\d{0,4}$
sort-key=otherdiags_1c

[namelist:nemoverify=iberg_traj_tstamp]
compulsory=true
description=Time-stamp format for iceberg trajectory files
help=
ns=Archive Integrity/NEMO
sort-key=otherdiags_1a
trigger=namelist:nemoverify=iberg_traj_ts_per_day: Timestep;
values=Date stamp (YYYYMMDD-YYYYMMDD),Timestep

[namelist:nemoverify=mean_reference_date]
compulsory=true
description=Means files calculated based on mean reference date
help=Day supercedes startdate for monthly means, month supercedes for seasonal
    =and annual means. Mean reference year supercedes startdate for decadal means.
    =Format: YYYYMMDD
    =e.g. 19781201
ns=Archive Integrity/NEMO
pattern=^\d{4,8}$
sort-key=mean_0

[namelist:nemoverify=meanfields]
compulsory=true
description=Diagnostic mean field grids
help=Format: grid-[A-Z] or [a-z]{6}
    =e.g. Default = grid-T, grid-U, grid-V, grid-W
length=:
ns=Archive Integrity/NEMO
pattern=^([0-9a-zA-Z\-]+)?(?:,([0-9a-zA-Z\-]+))*,*$
sort-key=mean_1a

[namelist:nemoverify=meanstreams]
compulsory=true
description=Mean fieldsfile streams: dmsy
help=Turn on  daily (d), monthly (m), seasonal (s) and annual (y) means
    =produced for ALL of the meanfields.
    =
    =Example: '1d_1m', '1m', '1y'
    =Default: 1m,1s,1y
    =
    =For concatenated files use an "_X" suffix, where "X" is the number
    =of periods concatenated.
length=:
ns=Archive Integrity/NEMO
pattern=^(\d+[hdmsyx](_\d+[a-z])?)?(?:,(\d+[hdmsyx](_\d+[a-z])?))*,*$
sort-key=mean_1a

[namelist:nemoverify=nemo_icebergs_rst]
compulsory=true
description=Include NEMO iceberg restart files
help=
ns=Archive Integrity/NEMO
sort-key=dump_3
trigger=namelist:nemoverify=iberg_traj: true;
type=boolean

[namelist:nemoverify=nemo_ptracer_rst]
compulsory=true
description=Include NEMO passive tracer restart files
help=
ns=Archive Integrity/NEMO
sort-key=dump_2
type=boolean

[namelist:nemoverify=streams_10d]
compulsory=false
description=Fields files containing 10-day mean output
help=Format: Alphanumeric characters plus '-'
    =e.g. grid-T
    =If stream is not required: leave input as blank.
length=:
ns=Archive Integrity/NEMO
pattern=^([0-9a-zA-Z\-]+)?(?:,([0-9a-zA-Z\-]+))*,*$
sort-key=mean_2b

[namelist:nemoverify=streams_10d_1m]
compulsory=false
description=Fields files containing 1-month of concatenated 10-day output
help=Format: Alphanumeric characters plus '-'
    =e.g. grid-T
    =If stream is not required: leave input as blank.
length=:
ns=Archive Integrity/NEMO
pattern=^([0-9a-zA-Z\-]+)?(?:,([0-9a-zA-Z\-]+))*,*$
sort-key=mean_2a

[namelist:nemoverify=streams_12h]
compulsory=false
description=Fields files containing 12-hourly mean output
help=Format: Alphanumeric characters plus '-'
    =e.g. grid-T
    =If stream is not required: leave input as blank.
length=:
ns=Archive Integrity/NEMO
pattern=^([0-9a-zA-Z\-]+)?(?:,([0-9a-zA-Z\-]+))*,*$
sort-key=mean_2b

[namelist:nemoverify=streams_12h_1d]
compulsory=false
description=Fields files containing 1-day of concatenated 12-hourly output
help=Format: Alphanumeric characters plus '-'
    =e.g. grid-T
    =If stream is not required: leave input as blank.
length=:
ns=Archive Integrity/NEMO
pattern=^([0-9a-zA-Z\-]+)?(?:,([0-9a-zA-Z\-]+))*,*$
sort-key=mean_2a

[namelist:nemoverify=streams_12h_1m]
compulsory=false
description=Fields files containing 1-month of concatenated 12-hourly output
help=Format: Alphanumeric characters plus '-'
    =e.g. grid-T
    =If stream is not required: leave input as blank.
length=:
ns=Archive Integrity/NEMO
pattern=^([0-9a-zA-Z\-]+)?(?:,([0-9a-zA-Z\-]+))*,*$
sort-key=mean_2a

[namelist:nemoverify=streams_1d]
compulsory=false
description=Fields files containing daily mean output
help=Format: Alphanumeric characters plus '-'
    =e.g. grid-T
    =If stream is not required: leave input as blank.
length=:
ns=Archive Integrity/NEMO
pattern=^([0-9a-zA-Z\-]+)?(?:,([0-9a-zA-Z\-]+))*,*$
sort-key=mean_2b

[namelist:nemoverify=streams_1d_1m]
compulsory=false
description=Fields files containing 1m worth of concatenated daily output
help=Format: Alphanumeric characters plus '-'
    =e.g. grid-T
    =If stream is not required: leave input as blank.
length=:
ns=Archive Integrity/NEMO
pattern=^([0-9a-zA-Z\-]+)?(?:,([0-9a-zA-Z\-]+))*,*$
sort-key=mean_2a

[namelist:nemoverify=streams_1h]
compulsory=false
description=Fields files containing hourly mean output
help=Format: Alphanumeric characters plus '-'
    =e.g. grid-T
    =If stream is not required: leave input as blank.
length=:
ns=Archive Integrity/NEMO
pattern=^([0-9a-zA-Z\-]+)?(?:,([0-9a-zA-Z\-]+))*,*$
sort-key=mean_2b

[namelist:nemoverify=streams_1h_1d]
compulsory=false
description=Fields files containing 1-day of concatenated hourly output
help=Format: Alphanumeric characters plus '-'
    =e.g. grid-T
    =If stream is not required: leave input as blank.
length=:
ns=Archive Integrity/NEMO
pattern=^([0-9a-zA-Z\-]+)?(?:,([0-9a-zA-Z\-]+))*,*$
sort-key=mean_2a

[namelist:nemoverify=streams_1m]
compulsory=false
description=Fields files containing 1 month mean output
help=Format: Alphanumeric characters plus '-'
    =e.g. grid-T
    =If stream is not required: leave input as blank.
length=:
ns=Archive Integrity/NEMO
pattern=^([0-9a-zA-Z\-]+)?(?:,([0-9a-zA-Z\-]+))*,*$
sort-key=mean_2b

[namelist:nemoverify=streams_6h]
compulsory=false
description=Fields files containing 6-hourly mean output
help=Format: Alphanumeric characters plus '-'
    =e.g. grid-T
    =If stream is not required: leave input as blank.
length=:
ns=Archive Integrity/NEMO
pattern=^([0-9a-zA-Z\-]+)?(?:,([0-9a-zA-Z\-]+))*,*$
sort-key=mean_2b

[namelist:nemoverify=streams_6h_1d]
compulsory=false
description=Fields files containing 1-day of concatenated 6-hourly output
help=Format: Alphanumeric characters plus '-'
    =e.g. grid-T
    =If stream is not required: leave input as blank.
length=:
ns=Archive Integrity/NEMO
pattern=^([0-9a-zA-Z\-]+)?(?:,([0-9a-zA-Z\-]+))*,*$
sort-key=mean_2a

[namelist:nemoverify=streams_6h_1m]
compulsory=false
description=Fields files containing 1-month of concatenated 6-hourly output
help=Format: Alphanumeric characters plus '-'
    =e.g. grid-T
    =If stream is not required: leave input as blank.
length=:
ns=Archive Integrity/NEMO
pattern=^([0-9a-zA-Z\-]+)?(?:,([0-9a-zA-Z\-]+))*,*$
sort-key=mean_2a

[namelist:nemoverify=verify_model]
compulsory=true
description=Verify expected contents of the archive for the NEMO model
help=Run the NEMO archive_integrity app to verify that files expected
    =to be present in the archive are, in fact, there.
ns=Archive Integrity/NEMO
sort-key=0
trigger=namelist:nemoverify=archive_timestamps: true;
       =namelist:nemoverify=buffer_restart: true;
       =namelist:nemoverify=nemo_icebergs_rst: true;
       =namelist:nemoverify=nemo_ptracer_rst: true;
       =namelist:nemoverify=buffer_mean: true;
       =namelist:nemoverify=mean_reference_date: true;
       =namelist:nemoverify=meanstreams: true;
       =namelist:nemoverify=streams_1h: true;
       =namelist:nemoverify=streams_6h: true;
       =namelist:nemoverify=streams_12h: true;
       =namelist:nemoverify=streams_1d: true;
       =namelist:nemoverify=streams_10d: true;
       =namelist:nemoverify=streams_1m: true;
       =namelist:nemoverify=streams_1h_1d: true;
       =namelist:nemoverify=streams_6h_1d: true;
       =namelist:nemoverify=streams_12h_1d: true;
       =namelist:nemoverify=streams_6h_1m: true;
       =namelist:nemoverify=streams_12h_1m: true;
       =namelist:nemoverify=streams_1d_1m: true;
       =namelist:nemoverify=streams_10d_1m: true;
       =namelist:nemoverify=meanfields: true;
type=boolean

[namelist:pptransfer]
ns=Post Processing - common settings/JASMIN Transfer

[namelist:pptransfer=gridftp]
compulsory=true
description=Use Grid-FTP for file transfer
ns=Post Processing - common settings/JASMIN Transfer
sort-key=Transfer5
type=boolean

[namelist:pptransfer=remote_host]
compulsory=true
description=Host where files are being pushed to or pulled from.
ns=Post Processing - common settings/JASMIN Transfer
sort-key=Transfer3

[namelist:pptransfer=transfer_dir]
compulsory=true
description=Name of directory to transfer archive to
ns=Post Processing - common settings/JASMIN Transfer
sort-key=Transfer1

[namelist:pptransfer=transfer_type]
compulsory=true
description=Push or Pull archived files across to JASMIN
help=Perform transfer of archived files by either:
    = 1) Running on the archive host and "Pushing" the files
    =    over to JASMIN.
    = or
    = 2) Running on JASMIN and "Pulling" the files over from
    =    the archive host.
ns=Post Processing - common settings/JASMIN Transfer
sort-key=Transfer2
values=Push,Pull

[namelist:pptransfer=verify_chksums]
compulsory=true
description=Perform checksum verification for pptransfer
ns=Post Processing - common settings/JASMIN Transfer
sort-key=Transfer4
type=boolean

[namelist:script_arch]
description=+++++++++++++++++++++++++++++++++++++++++++
           =| Use an external script to archive files.
           =|
           =| The final two arguments taken should be the
           =| filename to be archived and its source directory.
           =+++++++++++++++++++++++++++++++++++++++++++
ns=Post Processing - common settings/Archiving - User script

[namelist:script_arch=archive_script]
compulsory=true
description=Script or command to run for archiving
help=The filename to be archived and its source directory will be passed
    =as the final two arguments to the command provided.
ns=Post Processing - common settings/Archiving - User script
sort-key=ArchScript0

[namelist:suitegen]
ns=Post Processing - common settings

[namelist:suitegen=archive_command]
compulsory=true
description=Archiving System
help=
ns=Post Processing - common settings
sort-key=3_archive1
trigger=namelist:moose_arch: Moose;
       =namelist:archer_arch: Archer,Nexcs;
       =namelist:pptransfer: Archer,Nexcs;
       =namelist:pptransfer=gridftp: Archer;
       =namelist:script_arch: script;
values=Moose,Archer,Nexcs,script

[namelist:suitegen=archive_toplevel]
compulsory=true
description=Archive files as required
help=This is a top level switch to toggle the archive of files as requested by the
    =individual models.
    =
    =CAVEAT: Currently the switch ONLY affects NEMO/CICE general archiving methods.
    =        This will be modified to include all archiving in future.
ns=Post Processing - common settings
sort-key=3_archive0
trigger=namelist:suitegen=archive_command: true
type=boolean

[namelist:suitegen=mean_reference_date]
compulsory=true
description=Means creation reference date
help=Reference date for creation of standard means (year, month, day)
length=3
ns=Post Processing - common settings
pattern=^\d{1,4},\d{1,2},\d{1,2}$
sort-key=2_process1

[namelist:suitegen=nccopy_path]
compulsory=true
description=Path to the nccopy utility
help=Leave blank if the utility is available on the standard path
    =or not required by any component model
ns=Post Processing - common settings
sort-key=2_process2

[namelist:suitegen=ncdump_path]
compulsory=true
description=Path to the ncdump utility
help=Leave blank if the utility is available on the standard path
    =or not required by any component model
ns=Post Processing - common settings
sort-key=2_process3

[namelist:suitegen=ncks_path]
compulsory=true
description=Path to the ncks utility
help=Leave blank if the utility is available on the standard path
    =or not required by any component model
ns=Post Processing - common settings
sort-key=2_process5

[namelist:suitegen=ncrcat_path]
compulsory=true
description=Path to the ncrcat record concatenation utility
help=Leave blank if the utility is available on the standard path
    =or not required by any component model
ns=Post Processing - common settings
sort-key=2_process4

[namelist:suitegen=prefix]
compulsory=true
description=Common prefix to output filename format
help=Default: 'atmos'
ns=Post Processing - common settings
sort-key=0

[namelist:suitegen=process_toplevel]
compulsory=true
description=Process/Create files as required
help=This is a top level switch to toggle the creation and/or processing of files
    =as requested by the individual models.
    =
    =CAVEAT: Currently the switch ONLY affects NEMO/CICE general processing methods.
    =        This will be modified to include all archiving in future.
ns=Post Processing - common settings
sort-key=2_process0
trigger=namelist:suitegen=mean_reference_date: true ;
       =namelist:suitegen=nccopy_path: true ;
       =namelist:suitegen=ncdump_path: true ;
       =namelist:suitegen=ncks_path: true ;
       =namelist:suitegen=ncrcat_path: true
type=boolean

[namelist:suitegen=umtask_name]
compulsory=true
description=UM task name
help=Name of the UM task generating the input data for post processing
ns=Post Processing - common settings
sort-key=1

[ns=Archive Integrity]
description=Verification app to ensure the archive contains expected files.
           =
           =Ensure that the source code is included in the fcm_make_pp app by
           =selecting the `verify_config` option in the Model Components panel.
           =
           =Please note this app is currently experimental and in active development.
sort-key=Z

[ns=Atmosphere]
description=Archiving options for the UM Atmosphere
sort-key=1

[ns=CICE]
description=Meaning and archiving options for the CICE model
sort-key=3

[ns=NEMO]
description=Meaning and archiving options for the NEMO model
sort-key=2

[ns=Post Processing - common settings]
description=Post Processing app options common to all component models
sort-key=0

[ns=Post Processing - common settings/App Monitoring]
description=Monitor the execution of the post processing app.
sort-key=0

[ns=Post Processing - common settings/Archer Archiving]
description=Options for archiving on Archer/NEXCS
sort-key=2

[ns=Post Processing - common settings/JASMIN Transfer]
description=Options for transfer data from Archer/NEXCS to JASMIN
sort-key=3

[ns=Post Processing - common settings/Moose Archiving]
description=Options for archiving to the Moose system
sort-key=1
