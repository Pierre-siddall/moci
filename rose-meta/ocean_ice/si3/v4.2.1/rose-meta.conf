[env=SI3_START]
description=NOTE: file only used if SI3 told to do so in namini
           =To use need: ln_iceini = T; nn_iceini_file >= 1
compulsory=true
ns=Restart files
title=SI3 restart file


[ns=namelist/General and discretization]
description=Settings related to the sea ice discretization and subgrid thickness
           =nampar   :  General sea ice parameter settings
           =namitd   :  Ice Thickness Distribution (ITD)
           =namdia   :  Diagnostics and debugging
sort-key=SI3_1

[ns=namelist/General and discretization/General parameter settings (nampar)]
description=General sea ice parameter settings
sort-key=genITD1

[ns=namelist/General and discretization/Ice Thickness Distribution (namitd)]
description=Subgrid sea ice thickness distribution
sort-key=genITD2

[ns=namelist/General and discretization/Diagnostics and debugging (namdia)]
description=Diagnostics and debugging tools
sort-key=genITD3


[ns=namelist/Dynamics options (namdyn)]
description=Settings related to dynamics
           =namdyn         :  sea ice dynamics top-level options
           =namdyn_adv     :  advection
           =namdyn_rdgrft  :  mechanical redistribution (ridging and rafting)
           =namdyn_rhg     :  rheology 
sort-key=SI3_2

[ns=namelist/Dynamics options (namdyn)/Sea ice dynamics options (namdyn)]
description=Top-level options for sea ice dynamics
sort-key=dyn1

[ns=namelist/Dynamics options (namdyn)/Advection (namdyn_adv)]
description=Options for the formulation of sea ice advection and remapping
sort-key=dyn2

[ns=namelist/Dynamics options (namdyn)/Mechanical redistribution (namdyn_rdgrft)]
description=Mechanical redistribution (ridging and rafting)
sort-key=dyn3

[ns=namelist/Dynamics options (namdyn)/Rheology (namdyn_rhg)]
description=Sea ice rheology
sort-key=dyn4


[ns=namelist/Thermodynamics options (namthd)]
description=Settings related to thermodynamics
           =namthd      :  sea ice thermodynamics top-level options
           =namthd_zdf  :  vertical heat diffusion
           =namthd_da   :  lateral melting
           =namthd_do   :  ice growth in open water 
           =namthd_sal  :  ice salinity
           =namthd_pnd  :  melt ponds 
sort-key=SI3_3

[ns=namelist/Thermodynamics options (namthd)/Sea ice thermodynamics options (namthd)]
description=Top-level options for sea ice thermodynamics
sort-key=thd1

[ns=namelist/Thermodynamics options (namthd)/Heat diffusion (namthd_zdf)]
description=Sea ice vertical heat diffusion
sort-key=thd2

[ns=namelist/Thermodynamics options (namthd)/Lateral melting (namthd_da)]
description=Sea ice lateral melting
sort-key=thd3

[ns=namelist/Thermodynamics options (namthd)/Ice growth in open water (namthd_do)]
description=Sea ice growth in open water 
sort-key=thd4

[ns=namelist/Thermodynamics options (namthd)/Ice salinity (namthd_sal)]
description=Sea ice salinity
sort-key=thd5

[ns=namelist/Thermodynamics options (namthd)/Melt ponds (namthd_pnd)]
description=Sea ice melt ponds
sort-key=thd6


[ns=namelist/Ice-atmosphere interface]
description=Settings related to the ice-atmosphere interface
           =namsbc : ice surface boundary condition options
           =namalb : ice/snow albedo values for radiation scheme
sort-key=SI3_4

[ns=namelist/Ice-atmosphere interface/Surface boundary conditions (namsbc)]
description=Sea ice surface boundary conditions
sort-key=sbc1

[ns=namelist/Ice-atmosphere interface/Albedo parameters (namalb)]
description=Sea ice/snow albedo parameters for the SI3 broadband radiation scheme
           =NB. this radiation scheme is only used in the forced run when ln_cndflx = False
sort-key=sbc2


[ns=namelist/Sea ice initialization]
description=Settings related to the sea ice initialization
           =namini : ice initialization
sort-key=SI3_5

[ns=namelist/Sea ice initialization/Ice initialization (namini)]
description=Sea ice initialization options
sort-key=ini1


[namelist:namalb]
description=Sea ice/snow albedo parameters for the SI3 broadband radiation scheme 
           =NB. this radiation scheme is only used in the forced run when ln_cndflx = False
ns=namelist/Ice-atmosphere interface/Albedo parameters (namalb)

[namelist:namalb=rn_alb_sdry]
description=dry snow albedo
help=reference default = 0.85;
    =suggested range [0.85 -- 0.87]
sort-key=alb01
type=real
range=0:1

[namelist:namalb=rn_alb_smlt]
description=melting snow albedo
help=reference default = 0.75
    =suggested range [0.72 -- 0.82]
sort-key=alb02
type=real
range=0:1

[namelist:namalb=rn_alb_idry]
description=dry ice albedo
help=reference default = 0.60
    =suggested range [0.54 -- 0.65]
sort-key=alb03
type=real
range=0:1

[namelist:namalb=rn_alb_imlt]
description=bare puddled ice albedo
help=reference default = 0.50
    =suggested range [0.49 -- 0.58]
sort-key=alb04
type=real
range=0:1

[namelist:namalb=rn_alb_dpnd]
description=ponded ice albedo
help=reference default = 0.27
    =suggested range [0.10 -- 0.30]
sort-key=alb05
type=real
range=0:1

[namelist:namalb=rn_alb_hpiv]
description=pivotal ice thickness [m] above which albedo is constant
help=reference default = 1.00
sort-key=alb06
type=real
range=0:


[namelist:namdia]
description=Diagnostics and debugging tools
ns=namelist/General and discretization/Diagnostics and debugging (namdia)

[namelist:namdia=ln_icediachk]
description=check online heat, mass & salt budgets
sort-key=dia01
type=logical

[namelist:namdia=rn_icechk_cel]
description=check at each gridcell; stops model if violated and writes file
           =(requires ln_icediachk = True)
help=number determines allowed rate of ice spuriously gained/lost at each time step as a multiplicative factor of 1e-6 m/hour
    =default rn_icechk_cel = 1. => threshold is 1.e-6 m/hour
sort-key=dia02
type=real
range=0:

[namelist:namdia=rn_icechk_glo]
description=check over the entire ice cover; prints warnings only
           =(requires ln_icediachk = True)
help=number determines allowed rate of ice spuriously gained/lost at each time step as a multiplicative factor of 1e-6 m/hour
    =default rn_icechk_glo = 1.e-4 => threshold is 1.e-10 m/hour
sort-key=dia03
type=real
range=0:

[namelist:namdia=ln_icediahsb]
description=output heat, mass & salt budgets if True
sort-key=dia04
type=logical

[namelist:namdia=ln_icectl]
description=write output for specific ice points for debugging
sort-key=dia05
type=logical

[namelist:namdia=iiceprt]
description=i-index for debug
           =(requires ln_icectl = True)
sort-key=dia06
type=integer

[namelist:namdia=jiceprt]
description=j-index for debug
           =(requires ln_icectl = True)
sort-key=dia07
type=integer


[namelist:namdyn]
description=Sea ice dynamics
ns=namelist/Dynamics options (namdyn)/Seaice dynamics options (namdyn)

[namelist:namdyn=ln_dynall]
description=use full sea ice dynamics
           =rheology + advection + ridging/rafting + correction
sort-key=idyn01
type=logical

[namelist:namdyn=ln_dynrhgadv]
description=use only rheology + advection
           =do not use ridging/rafting or corrections 
sort-key=idyn02
type=logical

[namelist:namdyn=ln_dynadv1d]
description=use only 1D advection 
           =(Schar & Smolarkiewicz 1996 test case)
           =do not use ridging/rafting, rheology or corrections
sort-key=idyn03
type=logical

[namelist:namdyn=ln_dynadv2d]
description=use only 2D advection with prescribed velocities
           =(rn_uvice + advection)
           =do not use ridging/rafting, rheology or corrections
sort-key=idyn04
type=logical

[namelist:namdyn=rn_uice]
description=prescribed ice u-velocity (if ln_dynadv2d = True)
sort-key=idyn05
type=real

[namelist:namdyn=rn_vice]
description=prescribed ice v-velocity (if ln_dynadv2d = True)
sort-key=idyn06
type=real

[namelist:namdyn=rn_ishlat]
description=lateral boundary conditions
           =free slip (0.0); partial slip (0.0-2.0); no slip (2.0); strong slip (>2.0)
help=reference default = 2.
sort-key=idyn07
type=real
range=0:

[namelist:namdyn=ln_landfast_l16]
description=use Lemieux et al. (2016) landfast ice scheme
sort-key=idyn08
type=logical

[namelist:namdyn=rn_lf_depfra]
description=fraction of ocean depth that ice must reach to initiate landfast
           =(if ln_landfast_l16 = True)
help=reference default = 0.125
    =recommended range [0.1 -- 0.25]
sort-key=idyn09
type=real
range=0:1

[namelist:namdyn=rn_lf_bfr]
description=maximum bottom stress per unit volume [N/m3]
           =(if ln_landfast_l16 = True)
help=reference default = 15.
sort-key=idyn10
type=real
range=0:

[namelist:namdyn=rn_lf_relax]
description=relaxation time scale to reach static friction [1/s]
           =(if ln_landfast_l16 = True)
help=reference default = 1.e-5
sort-key=idyn11
type=real
range=0:

[namelist:namdyn=rn_lf_tensile]
description=isotropic tensile strength [N/m]
           =(if ln_landfast_l16 = True)
help=reference default = 0.05
    =recommended range [0 -- 0.5??]
sort-key=idyn12
type=real
range=0:


[namelist:namdyn_adv{si3}]
description=Options for the formulation of sea ice advection and remapping
duplicate=true
ns=namelist/Dynamics options (namdyn)/Advection (namdyn_adv)

[namelist:namdyn_adv{si3}=ln_adv_pra]
description=use Prather (1986) advection scheme (PRA)
sort-key=adv01
type=logical

[namelist:namdyn_adv{si3}=ln_adv_umx]
description=use Ultimate-Macho advection scheme (UMx)
sort-key=adv02
type=logical

[namelist:namdyn_adv{si3}=nn_umx]
description=order of the scheme for UMx
help=reference default = 5
    =recommended range (1-5 ; 20 => centered 2nd order)
sort-key=adv03
type=integer
range=1:20


[namelist:namdyn_rdgrft]
description=Mechanical redistribution (ridging and rafting)
ns=namelist/Dynamics options (namdyn)/Mechanical redistribution (namdyn_rdgrft)

[namelist:namdyn_rdgrft=ln_str_h79]
description=use Hibler (1979) ice strength parameterization
           ==> P = pstar*<h>*exp(-crhg*(1-A))
sort-key=rdg01
type=logical

[namelist:namdyn_rdgrft=rn_pstar]
description=ice strength thickness parameter [N/m2]
           =(if ln_str_h79 = True)
help=reference default = 2.0e+04
sort-key=rdg02
type=real
range=0:

[namelist:namdyn_rdgrft=rn_crhg]
description=ice strength concentration parameter [-]
           =(if ln_str_h79 = True) 
help=reference default = 20.
sort-key=rdg03
type=real
range=0:

[namelist:namdyn_rdgrft=ln_str_r75]
description=use Rothrock (1975) ice strength parameterization
           ==> P = fn of potential energy
sort-key=rdg04
type=logical

[namelist:namdyn_rdgrft=rn_pe_rdg]
description=coefficient accounting for frictional dissipation
           =(if ln_str_r75 = True) 
help=reference default = 17.0
sort-key=rdg05
type=real
range=0:

[namelist:namdyn_rdgrft=ln_str_cst]
description=use constant ice strength parameterization
sort-key=rdg06
type=logical

[namelist:namdyn_rdgrft=rn_str]
description=constant ice strength value
           =(if ln_str_cst = True) 
sort-key=rdg07
type=real
range=0:

[namelist:namdyn_rdgrft=ln_str_smooth]
description=apply spatial smoothing to the ice strength
sort-key=rdg08
type=logical

[namelist:namdyn_rdgrft=ln_distf_lin]
description=redistribution function of ridged ice: linear (Hibler, 1980)
sort-key=rdg09
type=logical

[namelist:namdyn_rdgrft=ln_distf_exp]
description=redistribution function of ridged ice: exponential (Lipscomb et al., 2007)
sort-key=rdg10
type=logical

[namelist:namdyn_rdgrft=rn_murdg]
description=e-folding scale of ridged ice [m**.5]
           =(if ln_distf_exp = True)
help=reference default = 3.0
sort-key=rdg11
type=real
range=0:

[namelist:namdyn_rdgrft=rn_csrdg]
description=fraction of shearing energy contributing to ridging
help=reference default = 0.5
sort-key=rdg12
type=real
range=0:1

[namelist:namdyn_rdgrft=ln_partf_lin]
description=ridging participation function: linear (Thorndike et al., 1975)
sort-key=rdg13
type=logical

[namelist:namdyn_rdgrft=rn_gstar]
description=fractional area of thin ice being ridged
           =(if ln_partf_lin = True)
help=reference default = 0.15
sort-key=rdg14
type=real
range=0:1

[namelist:namdyn_rdgrft=ln_partf_exp]
description=ridging participation function: exponential (Lipscomb et al., 2007)
sort-key=rdg15
type=logical

[namelist:namdyn_rdgrft=rn_astar]
description=exponential measure of ridging ice fraction
           =(if ln_partf_exp = True)
help=reference default = 0.03
    =[set to 0.05 if hstar=100]
sort-key=rdg16
type=real

[namelist:namdyn_rdgrft=ln_ridging]
description=activate ridging
sort-key=rdg17
type=logical

[namelist:namdyn_rdgrft=rn_hstar]
description=determines the maximum thickness of ridged ice [m] (Hibler, 1980)
           =(if ln_ridging = True)
help=reference default = 25.0
sort-key=rdg18
type=real
range=0:

[namelist:namdyn_rdgrft=rn_porordg]
description=porosity of newly ridged ice (Lepparanta et al., 1995)
           =(if ln_ridging = True)
help=reference default = 0.3
sort-key=rdg19
type=real
range=0:

[namelist:namdyn_rdgrft=rn_fsnwrdg]
description=snow volume fraction conserved during ridging
           =(if ln_ridging = True)
help=reference default = 0.5
sort-key=rdg20
type=real
range=0:1

[namelist:namdyn_rdgrft=rn_fpndrdg]
description=pond fraction conserved during ridging (small a priori)
           =(if ln_ridging = True)
help=reference default = 1.0
sort-key=rdg21
type=real
range=0:1

[namelist:namdyn_rdgrft=ln_rafting]
description=activate rafting
sort-key=rdg22
type=logical

[namelist:namdyn_rdgrft=rn_hraft]
description=threshold thickness [m] between rafting / ridging
           =(if ln_rafting = True)
help=reference default = 0.75
sort-key=rdg23
type=real
range=0:

[namelist:namdyn_rdgrft=rn_craft]
description=squeezing coefficient for smoothness of hyperbolic tangent in rafting function
           =(if ln_rafting = True)
help=reference default = 5.0
sort-key=rdg24
type=real
range=0:

[namelist:namdyn_rdgrft=rn_fsnwrft]
description=snow volume fraction conserved during rafting
           =(if ln_rafting = True)
help=reference default = 0.5 
sort-key=rdg25
type=real
range=0:1

[namelist:namdyn_rdgrft=rn_fpndrft]
description=pond fraction conserved during rafting (0.5 a priori)
           =(if ln_rafting = True)
help=reference default = 1.0
sort-key=rdg26
type=real
range=0:1


[namelist:namdyn_rhg]
description=Sea ice rheology
ns=namelist/Dynamics options (namdyn)/Rheology (namdyn_rhg)

[namelist:namdyn_rhg=ln_rhg_vp]
description=use the Viscous-Plastic (VP) sea ice rheology
sort-key=rhg01
type=logical

[namelist:namdyn_rhg=nn_vp_nout]
description=number of outer iterations
           =(if ln_rhg_vp = True)
help=reference default = 10
sort-key=rhg02
type=integer
range=0:

[namelist:namdyn_rhg=nn_vp_ninn]
description=number of inner iterations
           =(if ln_rhg_vp = True)
help=reference default = 1500
sort-key=rhg03
type=integer
range=0:

[namelist:namdyn_rhg=nn_vp_chkcvg]
description=iteration step for convergence check
           =(if ln_rhg_vp = True)
help=reference default = 5
sort-key=rhg04
type=integer
range=0:

[namelist:namdyn_rhg=ln_rhg_evp]
description=use the Elastic-Viscous-Plastic (EVP) sea ice rheology
sort-key=rhg05
type=logical

[namelist:namdyn_rhg=ln_rhg_eap]
description=use the Elastic-Anisotropic-Plastic (EAP) sea ice rheology
sort-key=rhg06
type=logical

[namelist:namdyn_rhg=ln_aevp]
description=use the adaptive EVP rheology of Kimmritz et al. (2016 & 2017)
sort-key=rhg07
type=logical

[namelist:namdyn_rhg=rn_creepl]
description=creep limit [1/s]
help=reference default = 2.0e-9
sort-key=rhg08
type=real
range=0:

[namelist:namdyn_rhg=rn_ecc]
description=eccentricity of the elliptical yield curve
help=reference default = 2.0
sort-key=rhg09
type=real
range=0:

[namelist:namdyn_rhg=nn_nevp]
description=number of EVP subcycles
help=reference default = 120 for EVP; 100 for aEVP
sort-key=rhg10
type=integer
range=1:

[namelist:namdyn_rhg=rn_relast]
description=ratio of elastic timescale to ice time step: 
           ==> Telast = dt_ice * rn_relast
help=advised value: 1/3 (nn_nevp=100) or 1/9 (nn_nevp=300)
sort-key=rhg11
type=real
range=0:

[namelist:namdyn_rhg=nn_rhg_chkcvg]
description=check convergence of rheology
           =NB. this will slow things down 
           =- particularly option 2, which uses lots of MPI comms!
sort-key=rhg12
value-titles=0: no check, 1: check at the main time step (output xml: uice_cvg), 2: check at both main and rheology time steps (additional output: ice_cvg.nc)
values=0,1,2


[namelist:namini]
description=SI3 model initialization
ns=namelist/Sea ice initialization/Ice initialization (namini)

[namelist:namini=ln_iceini]
description=initialize SI3 (T) or start from rest (F)
sort-key=ini01
type=logical

[namelist:namini=nn_iceini_file]
description=SI3 initialization method
           =(if ln_iceini = True)
sort-key=ini02
value-titles=0: Initialize sea ice based on SSTs using namelist parameters below, 1: Initialize sea ice from single category netcdf file using cut-down set of grid-box mean quantities, 2: Initialize sea ice from full multi-category restart file
values=0,1,2

[namelist:namini=rn_thres_sst]
description=max SST above Tfreeze [K] with initial ice 
           == (sst - tfreeze)
           =(if nn_iceini_file = 0)
help=reference default = 2.0
sort-key=ini03
type=real
range=0:

[namelist:namini=rn_hti_ini_n]
description=initial ice thickness [m], NH
           =(if nn_iceini_file = 0)
help=reference default = 3.0
sort-key=ini04
type=real
range=0:

[namelist:namini=rn_hti_ini_s]
description=initial ice thickness [m], SH
           =(if nn_iceini_file = 0)
help=reference default = 1.0
sort-key=ini05
type=real
range=0:

[namelist:namini=rn_hts_ini_n]
description=initial snow thickness [m], NH
           =(if nn_iceini_file = 0)
help=reference default = 0.3
sort-key=ini06
type=real
range=0:

[namelist:namini=rn_hts_ini_s]
description=initial snow thickness [m], SH
           =(if nn_iceini_file = 0)
help=reference default = 0.3
sort-key=ini07
type=real
range=0:

[namelist:namini=rn_ati_ini_n]
description=initial ice area fraction [-], NH
           =(if nn_iceini_file = 0)
help=reference default = 0.9
sort-key=ini08
type=real
range=0:1

[namelist:namini=rn_ati_ini_s]
description=initial ice area fraction [-], SH
           =(if nn_iceini_file = 0)
help=reference default = 0.9
sort-key=ini09
type=real
range=0:1

[namelist:namini=rn_smi_ini_n]
description=initial ice salinity [g/kg], NH
           =(if nn_iceini_file = 0)
help=reference default = 6.3
sort-key=ini10
type=real
range=0:

[namelist:namini=rn_smi_ini_s]
description=initial ice salinity [g/kg], SH
           =(if nn_iceini_file = 0)
help=reference default = 6.3
sort-key=ini11
type=real
range=0:

[namelist:namini=rn_tmi_ini_n]
description=initial ice temperature [K], NH
           =(if nn_iceini_file = 0)
help=reference default = 270.0
sort-key=ini12
type=real
range=0:

[namelist:namini=rn_tmi_ini_s]
description=initial ice temperature [K], SH
           =(if nn_iceini_file = 0)
help=reference default = 270.0
sort-key=ini13
type=real
range=0:

[namelist:namini=rn_tsu_ini_n]
description=initial surface temperature [K], NH
           =(if nn_iceini_file = 0)
help=reference default = 270.0
sort-key=ini14
type=real
range=0:

[namelist:namini=rn_tsu_ini_s]
description=initial surface temperature [K], SH
           =(if nn_iceini_file = 0)
help=reference default = 270.0
sort-key=ini15
type=real
range=0:

[namelist:namini=rn_tms_ini_n]
description=initial snow temperature [K], NH
           =(if nn_iceini_file = 0)
help=reference default = 270.0
sort-key=ini16
type=real
range=0:

[namelist:namini=rn_tms_ini_s]
description=initial snow temperature [K], SH
           =(if nn_iceini_file = 0)
help=reference default = 270.0
sort-key=ini17
type=real
range=0:

[namelist:namini=rn_apd_ini_n]
description=initial pond fraction [-], NH
           =(if nn_iceini_file = 0)
help=reference default = 0.0
sort-key=ini18
type=real
range=0:1

[namelist:namini=rn_apd_ini_s]
description=initial pond fraction [-], SH
           =(if nn_iceini_file = 0)
help=reference default = 0.2
sort-key=ini19
type=real
range=0:1

[namelist:namini=rn_hpd_ini_n]
description=initial pond depth [m], NH
           =(if nn_iceini_file = 0)
help=reference default = 0.00
sort-key=ini20
type=real
range=0:

[namelist:namini=rn_hpd_ini_s]
description=initial pond depth [m], SH
           =(if nn_iceini_file = 0)
help=reference default = 0.05
sort-key=ini21
type=real
range=0:

[namelist:namini=rn_hld_ini_n]
description=initial pond lid depth [m], NH
           =(if nn_iceini_file = 0)
help=reference default = 0.0
sort-key=ini22
type=real
range=0:

[namelist:namini=rn_hld_ini_s]
description=initial pond lid depth [m], SH
           =(if nn_iceini_file = 0)
help=reference default = 0.0
sort-key=ini23
type=real
range=0:


[namelist:namitd]
description=Subgrid Ice Thickness Distribution (ITD)
ns=namelist/General and discretization/Ice Thickness Distribution (namitd)

[namelist:namitd=ln_cat_hfn]
description=ice thickness categories defined as a function of rn_himean**(-0.05)
help=reference default = True
sort-key=itd01
type=logical

[namelist:namitd=rn_himean]
description=domain-mean ice thickness [m]
           =(if ln_cat_hfn = True)
sort-key=itd02
type=real
range=0.01:

[namelist:namitd=ln_cat_usr]
description=ice thickness categories defined by user (set via variable rn_catbnd)
help=reference default = False
sort-key=itd03
type=logical

[namelist:namitd=rn_catbnd]
description=user defined thickness category bounds [m]
           =(if ln_cat_usr = True)
           =NB. must have jpl entries (total number of thickness categories)
sort-key=itd04
type=real,real,real,real,real,real,real,real,real,real,real,real
range=0.:,0.:,0.:,0.:,0.:,0.:,0.:,0.:,0.:,0.:,0.:,0.:

[namelist:namitd=rn_himin]
description=minimum allowed ice thickness [m]
help=reference default = 0.1
sort-key=itd05
type=real
range=0:

[namelist:namitd=rn_himax]
description=maximum allowed ice thickness [m]
help=reference default = 99.0
sort-key=itd06
type=real
range=0.01:


[namelist:nampar]
description=General sea ice parameter settings
ns=namelist/General and discretization/General parameter settings (nampar)

[namelist:nampar=jpl]
description=number of sea ice thickness categories
help=ITD set up further in &namitd
sort-key=par01
type=integer
range=1:

[namelist:nampar=nlay_i]
description=number of vertical ice layers
sort-key=par02
type=integer
range=1:

[namelist:nampar=nlay_s]
description=number of vertical snow layers
sort-key=par03
type=integer
range=1:

[namelist:nampar=ln_virtual_itd]
description=use virtual ITD mono-category parameterization
           =only for jpl = 1
help=allows enhanced thermal conductivity & virtual thin ice melting in mono-category setup
sort-key=par04
type=logical

[namelist:nampar=ln_icedyn]
description=top-level switch: use sea ice dynamics
sort-key=par05
type=logical

[namelist:nampar=ln_icethd]
description=top-level switch: use sea ice thermodynamics
sort-key=par06
type=logical

[namelist:nampar=rn_amax_n]
description=maximum allowed ice concentration in NH
help=reference default = 0.997
sort-key=par07
type=real
range=0:1

[namelist:nampar=rn_amax_s]
description=maximum allowed ice concentration in SH
help=reference default = 0.997
sort-key=par08
type=real
range=0:1

[namelist:nampar=cn_icerst_in]
description=suffix of ice restart name (input)
help=reference default "restart_ice"
sort-key=par09
type=character

[namelist:nampar=cn_icerst_out]
description=suffix of ice restart name (output)
help=reference default "restart_ice"
sort-key=par10
type=character

[namelist:nampar=cn_icerst_indir]
description=directory to read input ice restarts
help=reference default "."
sort-key=par11
type=character

[namelist:nampar=cn_icerst_outdir]
description=directory to write output ice restarts
help=reference default "."
sort-key=par12
type=character


[namelist:namsbc{si3}]
description=Sea ice surface boundary conditions
ns=namelist/Ice-atmosphere interface/Surface boundary conditions (namsbc)

[namelist:namsbc{si3}=rn_cio]
description=ice-ocean drag coefficient
help=reference default = 5.0e-03
sort-key=sbc01
type=real
range=0:

[namelist:namsbc{si3}=nn_snwfra]
description=method to calculate the fraction of ice covered by snow 
           =(used for zdf and albedo)
sort-key=sbc02
value-titles=0: fraction = 1 [if snow] or 0 [if no snow], 1: fraction = 1-exp(-0.2*rhos*hsnw) [JULES formulation], 2: fraction = hsnw / (hsnw+0.02) [CICE formulation]
values=0,1,2

[namelist:namsbc{si3}=rn_snwblow]
description=coefficient for ice-lead partition of snowfall 
           =1 => no snow blowing, < 1 => some snow blowing
help=reference default = 0.66
sort-key=sbc03
type=real
range=0:1

[namelist:namsbc{si3}=nn_flxdist]
description=method to redistribute heat flux over ice categories
help=reference default = -1
sort-key=sbc04
value-titles=-1: Do nothing [needs N(cat) fluxes], 0: Average N(cat) fluxes then apply the average over the N(cat) ice, 1: Average N(cat) fluxes then redistribute over the N(cat) ice using T-ice and albedo sensitivity, 2: Redistribute a single flux over categories
values=-1,0,1,2

[namelist:namsbc{si3}=ln_cndflx]
description=use conduction flux as surface boundary condition (i.e. for JULES coupling)
           =**NEEDS TO BE
           =_TRUE_ FOR COUPLED MODEL 
           =_FALSE_ FOR FORCED MODEL**
sort-key=sbc05
type=logical

[namelist:namsbc{si3}=ln_cndemulate]
description=emulate ln_cndflx = True functionality in forced mode
help=NEMO will calculate conductive fluxes from the bulk formulae.
    =These are then applied in the same way as using ln_cndflx = True
    =This allows testing of the coupled model code in forced mode. 
    =It doesn't quite bit-compare with the standard forced run but scientifically it is the same.
sort-key=sbc06
type=logical

[namelist:namsbc{si3}=nn_qtrice]
description=method for solar flux transmission through surface scattering layer
help=reference default = 0
sort-key=sbc07
value-titles=0: Grenfell and Maykut (1977) - depends on cloudiness and is 0 when there is snow, 1: Lebrun (2019) - equals 0.3 any time with different melting/dry snow conductivities
values=0,1


[namelist:namthd]
ns=namelist/Thermodynamics options (namthd)/Sea ice thermodynamics options (namthd)
description=Top-level options for sea ice thermodynamics

[namelist:namthd=ln_icedh]
description=activate ice thickness change from growing/melting
sort-key=ithd01
type=logical

[namelist:namthd=ln_iceda]
description=activate lateral melting parameterization
sort-key=ithd02
type=logical

[namelist:namthd=ln_icedo]
description=activate ice growth in open water
sort-key=ithd03
type=logical

[namelist:namthd=ln_iceds]
description=activate gravity drainage and flushing (brine drainage)
sort-key=ithd04
type=logical

[namelist:namthd=ln_leadhfx]
description=solar heat flux entering leads is used: 
           =to directly melt sea ice via basal melt before warming ocean (T) 
           =to warm ocean before lateral sea ice melt (F)
sort-key=ithd05
type=logical


[namelist:namthd_da]
ns=namelist/Thermodynamics options (namthd)/Lateral melting (namthd_da)
description=Sea ice lateral melting

[namelist:namthd_da=rn_beta]
description=coefficient for lateral melting parameterization
help=reference default = 1.0; recommended range = [0.8 -- 1.2]
    =decrease = more melt and melt peaks towards higher concentration (A~0.5 for beta=1 ; A~0.8 for beta=0.2)
sort-key=tda01
type=real
range=0:

[namelist:namthd_da=rn_dmin]
description=minimum floe diameter [m] for lateral melting parameterization
help=reference default = 8 m; recommended range = [6 -- 10 m]
    =6  vs 8 m = +40% melting at the peak (A~0.5)
    =10 vs 8 m = -20% melting
sort-key=tda02
type=real
range=0.01:


[namelist:namthd_do]
ns=namelist/Thermodynamics options (namthd)/Ice growth in open water (namthd_do)
description=Sea ice growth in open water

[namelist:namthd_do=rn_hinew]
description=thickness of new ice formed in open water [m]
help=reference default = 0.1; must be >= rn_himin (minimum allowed ice thickness)
sort-key=tdo01
type=real
range=0:

[namelist:namthd_do=ln_frazil]
description=activate frazil ice collection as a function of wind
help=reference default = False
sort-key=tdo02
type=logical

[namelist:namthd_do=rn_maxfraz]
description=maximum fraction of frazil ice collecting at the ice base
           =(if ln_frazil = True)
help=reference default = 1.0
sort-key=tdo03
type=real
range=0:1

[namelist:namthd_do=rn_vfraz]
description=threshold drift speed for frazil ice collecting at the ice bottom [m/s]
           =(if ln_frazil = True)
help=reference default = 0.417
sort-key=tdo04
type=real
range=0:

[namelist:namthd_do=rn_cfraz]
description=squeezing coefficient for frazil ice collecting at the ice bottom
           =(if ln_frazil = True)
help=reference default = 5.0
sort-key=tdo05
type=real
range=0:


[namelist:namthd_pnd]
ns=namelist/Thermodynamics options (namthd)/Melt ponds (namthd_pnd)
description=Sea ice melt ponds

[namelist:namthd_pnd=ln_pnd]
description=activate melt ponds
sort-key=pnd01
type=logical

[namelist:namthd_pnd=ln_pnd_alb]
description=allow melt ponds to impact sea ice albedo
sort-key=pnd02
type=logical

[namelist:namthd_pnd=ln_pnd_topo]
description=activate topographic melt pond formulation of Flocco et al. (2010)
sort-key=pnd03
type=logical

[namelist:namthd_pnd=ln_pnd_lev]
description=activate level ice melt pond formulation
sort-key=pnd04
type=logical

[namelist:namthd_pnd=rn_apnd_min]
description=minimum meltwater fraction contributing to pond growth (topo, lev)
help=reference default = 0.15
sort-key=pnd05
type=real
range=0:1

[namelist:namthd_pnd=rn_apnd_max]
description=maximum meltwater fraction contributing to pond growth (topo, lev)
help=reference default = 0.85
sort-key=pnd06
type=real
range=0:1

[namelist:namthd_pnd=rn_pnd_flush]
description=pond flushing efficiency (lev)
           =(if ln_pnd_lev = True)
help=reference default = 0.1
sort-key=pnd07
type=real
range=0:1

[namelist:namthd_pnd=ln_pnd_lids]
description=activate frozen lids on top of melt ponds (topo, lev)
sort-key=pnd08
type=logical

[namelist:namthd_pnd=ln_pnd_cst]
description=activate constant melt pond formulation
sort-key=pnd09
type=logical

[namelist:namthd_pnd=rn_apnd]
description=prescribed pond fraction, at Tsurface = 0 degC
           =(if ln_pnd_cst = True)
help=reference default = 0.2
sort-key=pnd10
type=real
range=0:1

[namelist:namthd_pnd=rn_hpnd]
description=prescribed pond depth, at Tsurface = 0 degC
           =(if ln_pnd_cst = True)
help=reference default = 0.05
sort-key=pnd11
type=real
range=0:

[namelist:namthd_pnd=nn_pnd_brsal]
description=brine salinity formulation
sort-key=pnd12
value-titles=0: consistent expression with SI3 reference default = 0 (linear liquidus), 1: used in GOSI9
values=0,1


[namelist:namthd_sal]
ns=namelist/Thermodynamics options (namthd)/Ice salinity (namthd_sal)
description=Sea ice salinity

[namelist:namthd_sal=nn_icesal]
description=ice salinity formulation
help=reference default = 2
sort-key=sal01
value-titles=1: constant [S=rn_icesal], 2: time-varying [S(z;t)], 3: prescribed [S(z); Schwartzacher 1959]
values=1,2,3

[namelist:namthd_sal=rn_icesal]
description=fixed ice salinity value [g/kg]
           =(if nn_icesal = 1)
help=reference default = 4.
sort-key=sal02
type=real
range=0:

[namelist:namthd_sal=rn_sal_gd]
description=restoring ice salinity for gravity drainage [g/kg]
           =(if nn_icesal = 2)
help=reference default = 5.
sort-key=sal03
type=real
range=0:

[namelist:namthd_sal=rn_time_gd]
description=restoring time scale for gravity drainage [s]
           =(if nn_icesal = 2)
help=reference default = 1.73e+6
sort-key=sal04
type=real
range=0:

[namelist:namthd_sal=rn_sal_fl]
description=restoring ice salinity for flushing [g/kg]
           =(if nn_icesal = 2)
help=reference default = 2.
sort-key=sal05
type=real
range=0:

[namelist:namthd_sal=rn_time_fl]
description=restoring time scale for flushing [s]
           =(if nn_icesal = 2)
help=reference default = 8.64e+5
sort-key=sal06
type=real
range=0:

[namelist:namthd_sal=rn_simax]
description=maximum allowed ice salinity [g/kg]
help=reference default = 20.0
sort-key=sal07
type=real
range=0:

[namelist:namthd_sal=rn_simin]
description=minimum allowed ice salinity [g/kg]
help=reference default = 0.1
sort-key=sal08
type=real
range=0:


[namelist:namthd_zdf]
ns=namelist/Thermodynamics options (namthd)/Heat diffusion (namthd_zdf)
description=Sea ice vertical heat diffusion

[namelist:namthd_zdf=ln_zdf_bl99]
description=use Bitz and Lipscomb (1999) heat diffusion formulation
sort-key=zdf01
type=logical

[namelist:namthd_zdf=ln_cndi_u64]
description=use sea ice thermal conductivity of Untersteiner (1964)
           ==> k = k0 + beta.S/T
sort-key=zdf02
type=logical

[namelist:namthd_zdf=ln_cndi_p07]
description=use 'bubbly brine' sea ice thermal conductivity of Pringle et al. (2007)
           ==> k = k0 + beta1.S/T - beta2.T
sort-key=zdf03
type=logical

[namelist:namthd_zdf=rn_cnd_s]
description=snow thermal conductivity [W/m/K]
help=reference default = 0.31 (Maykut and Untersteiner, 1971)
    =recommended range = [0.1 -- 0.5] (Lecomte et al., 2013)
sort-key=zdf04
type=real
range=0:

[namelist:namthd_zdf=rn_kappa_i]
description=radiation attenuation coefficient in sea ice [1/m]
help=reference default = 1.0
sort-key=zdf05
type=real
range=0:

[namelist:namthd_zdf=rn_kappa_s]
description=radiation attenuation coefficient in snow [1/m]
           =(if nn_qtrice = 0; see namsbc)
help=reference default = 10.0
sort-key=zdf06
type=real
range=0:

[namelist:namthd_zdf=rn_kappa_smlt]
description=radiation attenuation coefficient in melting snow [1/m]
           =(if nn_qtrice = 1; see namsbc)
help=reference default = 7.0
sort-key=zdf07
type=real
range=0:

[namelist:namthd_zdf=rn_kappa_sdry]
description=radiation attenuation coefficient in dry snow [1/m]
           =(if nn_qtrice = 1; see namsbc)
help=reference default = 10.0
sort-key=zdf08
type=real
range=0:

[namelist:namthd_zdf=ln_zdf_chkcvg]
description=check convergence of heat diffusion scheme 
           =(outputs: tice_cvgerr, tice_cvgstp)
sort-key=zdf09
type=logical


[ns=namelist]
description=Configure SI3 namelists. Please expand and select a page.
sort-key=1b
