#!/usr/bin/env python
# *****************************COPYRIGHT******************************
# (C) Crown copyright Met Office. All rights reserved.
# For further details please refer to the file COPYRIGHT.txt
# which you should have received as part of this distribution.
# *****************************COPYRIGHT******************************
"""
 CODE OWNER
   Stephen Haddad

 NAME
   xios_build

 DESCRIPTION
    Buids the XIOS library and the server executable. Associated
    environment modules are also created.

 Environment variables expected
    SYSTEM_NAME
    BUILD_PATH
    XIOS_REPO_URL
    XIOS_REV
    XIOS
    BUILD_PATH
    XIOS_NUM_CORES
    USE_OASIS
    OASIS_ROOT
    XIOS_POST_BUILD_CLEANUP
    XIOS_DO_CLEAN_BUILD
    XIOS_USE_PREBUILT_LIB
    XIOS_PREBUILT_DIR
    DEPLOY_AS_MODULE
    MODULE_INSTALL_PATH
    MODULE_VERSION
"""

import os

import XiosBuildSystem

def main():
    """
    Main function for script.
    """
    system_name = os.environ['SYSTEM_NAME']
    build_system = XiosBuildSystem.create_build_system(system_name,
                                                       os.environ)
    build_system.run_build()

if __name__ == '__main__':
    main()
